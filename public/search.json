[{"title":"ä¸€æ–‡è¯»æ‡‚Btç§å­ã€ç£åŠ›é“¾æ¥ã€ç›´é“¾ã€p2pè¿™äº›ä¸‹è½½çš„åŒºåˆ«","url":"/p2p/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><!--page header-->\n\n<ul>\n<li>ä»€ä¹ˆæ˜¯ç›´é“¾ã€Btç§å­ã€ç£åŠ›ã€p2p?</li>\n<li>å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒåŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆ?</li>\n</ul>\n<h2 id=\"ç›´é“¾\"><a href=\"#ç›´é“¾\" class=\"headerlink\" title=\"ç›´é“¾\"></a>ç›´é“¾</h2><p>æˆ‘ä»¬å…ˆè¯´ä»€ä¹ˆæ˜¯ç›´é“¾, ç›´é“¾å°±æ˜¯<strong>ç›´æ¥ä»æœåŠ¡å™¨ä¸‹è½½æ•°æ®</strong>ã€‚</p>\n<p>ç›´é“¾æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æœ€æœ€æœ€å¸¸è§çš„ä¸‹è½½æ–¹å¼ï¼Œæˆ‘ä»¬ä»åº”ç”¨å•†åº—ä¸‹è½½è½¯ä»¶ æˆ–è€…ä»ç½‘é¡µä¸‹è½½å„ç§å›¾ç‰‡ã€éŸ³ä¹ã€è§†é¢‘ç­‰ã€‚<br>å¯ä»¥ç›´æ¥è¢«ä¸‹è½½çš„å°±æ˜¯ç›´é“¾ã€‚æ¯”å¦‚æˆ‘ä»¬æ‰“å¼€ç½‘é¡µï¼Œæƒ³ä¸‹è½½ä¸€ä¸ªå¾®ä¿¡ï¼Œå½“ä½ ç‚¹å‡»ä¸‹è½½æŒ‰é’®çš„æ—¶å€™ï¼Œç½‘é¡µå°±ä¼šç›´æ¥å¸®ä½ ä¸‹è½½ã€‚</p>\n<p>è¿™æ—¶æˆ‘ä»¬å¤åˆ¶å®ƒçš„ä¸‹è½½è¿æ¥,å¯ä»¥çœ‹åˆ°ä½¿ç”¨çš„æ˜¯httpåè®®</p>\n<img style=\"width: 400px\" src=\"/p2p/v2-d0e5e412c39b1f15327554b7ba4e8af6_1440w-655304.jpeg\" />\n\n<!-- ![v2-d0e5e412c39b1f15327554b7ba4e8af6_1440w.jpg](/p2p/v2-d0e5e412c39b1f15327554b7ba4e8af6_1440w-655304.jpeg) -->\n\n<p>é‚£æˆ‘ä»¬åœ¨çœ‹ä¸€ä¸‹ç£åŠ›å’Œç§å­æ˜¯æ€æ ·çš„ æˆ‘ä»¬ç›´æ¥å¤åˆ¶å®ƒçš„é“¾æ¥</p>\n<img style=\"width: 400px\" src=\"/p2p/v2-a17f8e888b146729380226e669d46fd1_1440w-582406.jpeg\" />\n\n<!-- ![v2-a17f8e888b146729380226e669d46fd1_1440w.jpg](/p2p/v2-a17f8e888b146729380226e669d46fd1_1440w-582406.jpeg) -->\n\n<p>è¿™ä¸ªé“¾æ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬ç­‰ä¼šåœ¨è¯´</p>\n<p>æœ‰äººå¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆç§å­çš„é“¾æ¥æ˜¯èµ°httpåè®®çš„</p>\n<p>åˆ«æ€¥ï¼Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡»ç§å­ä¸‹è½½ã€‚å¯ä»¥çœ‹åˆ°åªæ˜¯é€šè¿‡httpåè®®ç»™ä½ ä¸€ä¸ªç§å­æ–‡ä»¶ï¼Œç§å­çš„æ ¼å¼ä¸º<code>torrent</code></p>\n<img style=\"width: 100px\" src=\"/p2p/v2-2a74af32d40eaeb43ce7f03941fc198f_1440w-915544.jpeg\" />\n\n<!-- ![v2-2a74af32d40eaeb43ce7f03941fc198f_1440w.jpg](/p2p/v2-2a74af32d40eaeb43ce7f03941fc198f_1440w-915544.jpeg) -->\n\n<p>ä½ å¾—è‡ªå·±æ‹¿ç€è¿™ä¸ªç§å­é€šè¿‡ä¸‹è½½å™¨å»ä¸‹è½½ã€‚<br>æˆ‘è¿™é‡Œå°±ä»¥è¿…é›·ä¸ºä¾‹, æˆ‘ä»¬æŠŠç§å­æ‹–æ‹½åˆ°è¿…é›·ä¸Š, å®ƒå°±ä¼šè‡ªåŠ¨è¯†åˆ«ç§å­ã€‚<br>å¯ä»¥çœ‹åˆ°è¿™éƒ¨18.21GBçš„ç”µå½±å°±åœ¨è¿™é‡Œ, ç„¶åæˆ‘ä»¬åœ¨ç‚¹å‡»ä¸‹è½½å°±å¯ä»¥æ‹¿åˆ°äº†</p>\n<img style=\"width: 300px\" src=\"/p2p/v2-3aeec0f8cf29fcd58177b910e5f9a41a_1440w-511981.jpeg\" />\n\n<!-- ![v2-3aeec0f8cf29fcd58177b910e5f9a41a_1440w.jpg](/p2p/v2-3aeec0f8cf29fcd58177b910e5f9a41a_1440w-511981.jpeg) -->\n\n<h2 id=\"P2P\"><a href=\"#P2P\" class=\"headerlink\" title=\"P2P\"></a>P2P</h2><p>P2På°±æ˜¯peer to peerçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å¯ä»¥ç†è§£ä¸ºä¸ªäººå¯¹ä¸ªäºº(ç‚¹å¯¹ç‚¹)</p>\n<p>ç›´é“¾æŠŠæœåŠ¡å™¨ä½œä¸ºä¸­å¿ƒè®©ç”¨æˆ·å»ä¸‹è½½ã€‚<br>å› ä¸ºæœåŠ¡å™¨çš„å¸¦å®½æœ‰é™ï¼Œæ‰€ä»¥ä¸‹è½½çš„äººè¶Šå¤šï¼Œæ¯ä¸ªäººæ‰€èƒ½äº«å—çš„ä¸‹è½½å¸¦å®½å°±ä¼šåˆ†çš„æ›´å°‘,ä¸‹è½½é€Ÿåº¦å°±è¶Šæ…¢</p>\n<div style=\"display:flex;gap:6px\">\n  <img style=\"width:50%\" src=\"/p2p/v2-a70e094a508145e75eace150bfd78a19_1440w-899251.jpeg\">\n  <img style=\"width:50%\" src=\"/p2p/v2-7e08da63ea1700012da40c5e8a026827_1440w-035100.jpeg\">\n</div>\n\n<blockquote>\n<p>ç›´é“¾: ä¸‹è½½çš„äººè¶Šå¤š,ä¸‹è½½é€Ÿåº¦å°±è¶Šæ…¢</p>\n</blockquote>\n<!-- ![v2-a70e094a508145e75eace150bfd78a19_1440w.jpg](/p2p/v2-a70e094a508145e75eace150bfd78a19_1440w-899251.jpeg)\n\n![v2-7e08da63ea1700012da40c5e8a026827_1440w.jpg](/p2p/v2-7e08da63ea1700012da40c5e8a026827_1440w-035100.jpeg) -->\n\n<p>è€ŒP2På°±æ˜¯â€œ<strong>å»ä¸­å¿ƒåŒ–</strong>â€ï¼Œ<strong>ä¸ä¾èµ–æœåŠ¡å™¨</strong></p>\n<p>æ¯ä¸ªäººéƒ½ç›¸å½“äºä¸€å°æœåŠ¡å™¨, ä½ <strong>åœ¨ä¸‹è½½çš„åŒæ—¶ï¼Œä¹Ÿåœ¨ä¸Šä¼ æ•°æ®</strong>ã€‚<br>å› ä¸ºä½ ä¸‹è½½çš„æ•°æ®å°±æ˜¯åˆ«äººæ‰€ä¸Šä¼ ç»™ä½ çš„, ä½ æ‰€äº«å—ä¸‹è½½çš„åŒæ—¶ä¹Ÿéœ€è¦æœåŠ¡ä¸åˆ«äºº, è¿™å°±æ˜¯äººäººä¸ºæˆ‘ï¼Œæˆ‘ä¸ºäººäººçš„ç²¾ç¥ã€‚</p>\n<img style=\"width: 500px\" src=\"/p2p/v2-b168ca4cb676d4ae9844ce9397d6d215_1440w-342080.jpeg\" />\n\n<!-- ![v2-b168ca4cb676d4ae9844ce9397d6d215_1440w.jpg](/p2p/v2-b168ca4cb676d4ae9844ce9397d6d215_1440w-342080.jpeg) -->\n\n<p>æ‰€ä»¥ä¸ç›´é“¾ç›¸å, <strong>ä¸‹è½½çš„äººè¶Šå¤šï¼Œä¸‹è½½çš„é€Ÿåº¦å°±è¶Šå¿«</strong></p>\n<blockquote>\n<p>P2P: ä¸‹è½½çš„äººè¶Šå¤šï¼Œä¸‹è½½çš„é€Ÿåº¦å°±è¶Šå¿«</p>\n</blockquote>\n<h2 id=\"Btç§å­å’Œç£åŠ›é“¾æ¥\"><a href=\"#Btç§å­å’Œç£åŠ›é“¾æ¥\" class=\"headerlink\" title=\"Btç§å­å’Œç£åŠ›é“¾æ¥\"></a>Btç§å­å’Œç£åŠ›é“¾æ¥</h2><p>é‚£ä»€ä¹ˆæ˜¯Btç§å­å’Œç£åŠ›é“¾æ¥å‘¢ï¼Ÿ å…¶å®<strong>Btç§å­å’Œç£åŠ›é“¾æ¥çš„ä¸‹è½½æ–¹å¼éƒ½æ˜¯P2P</strong>!!</p>\n<p>å®ƒä»¬çš„åŒºåˆ«åªæ˜¯<strong>å¯»æ‰¾èµ„æºçš„æ–¹å¼ä¸åŒ</strong></p>\n<img style=\"width: 500px\" src=\"/p2p/v2-e4674ce7cb1a436ab08c82930da8d13b_1440w-381886.jpeg\" />\n\n<!-- ![v2-e4674ce7cb1a436ab08c82930da8d13b_1440w.jpg](/p2p/v2-e4674ce7cb1a436ab08c82930da8d13b_1440w-381886.jpeg) -->\n\n<h3 id=\"ç£åŠ›é“¾æ¥\"><a href=\"#ç£åŠ›é“¾æ¥\" class=\"headerlink\" title=\"ç£åŠ›é“¾æ¥\"></a>ç£åŠ›é“¾æ¥</h3><p>ä¹‹å‰æˆ‘ä»¬çœ‹åˆ°ç£åŠ›é“¾æ¥çš„åœ°å€æ˜¯</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">magnet:?xt=urn:btih:xxxxxxx</span><br><span class=\"line\"></span><br><span class=\"line\">// ä»dnå‚æ•°å¯ä»¥çœ‹å‡ºä¸‹è½½çš„æ˜¯mp4</span><br><span class=\"line\">magnet:?xt=urn:btih:99af18e766b0c28318b643f1112e7b6fa427deb0&amp;dn=ä¸­å›½æœºé•¿-2019_BDå›½è¯­ä¸­å­—.mp4</span><br><span class=\"line\"></span><br><span class=\"line\">// ä¹Ÿæœ‰ç£åŠ›é“¾æ¥ä¸‹è½½çš„å†…å®¹æ˜¯btç§å­çš„æƒ…å†µ</span><br><span class=\"line\">magnet:?xt=urn:btih:xxx&amp;dn=xxxx.torrent</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çš„ä»€ä¹ˆæ„æ€å‘¢ï¼Œç£åŠ›é“¾é‡‡ç”¨çš„æ˜¯ DHT å…¨ç§°æ˜¯<code>Distributed Hash Table</code>, æ„æ€å°±æ˜¯åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ã€‚</p>\n<p>é¡¾åæ€ä¹‰å°±æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„å­˜å‚¨æ–¹æ³•, å®ƒä»¥<code>magnet:?xt=urn:btih:</code>å¼€å¤´, åé¢è·Ÿç€çš„å°±æ˜¯æ–‡ä»¶çš„å“ˆå¸Œè¡¨ç”Ÿæˆçš„ç‰¹å¾ç ã€‚</p>\n<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªèµ„æºçš„èº«ä»½è¯ï¼Œä½ æƒ³è¦ä¸‹è½½æŸä¸ªèµ„æºï¼Œå°±é€šè¿‡è¿™ä¸ªèº«ä»½è¯å»æ‰¾åˆ°å®ƒã€‚<br>ä¸è¿‡è¿™ä¸æ˜¯ä¸€èˆ¬çš„èº«ä»½è¯ï¼Œè¿™ä¸ªèº«ä»½è¯æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒåˆ†æˆäº†å¾ˆå¤šä¸ªå°å—ã€‚</p>\n<p>è¿™äº›å°å—éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„idï¼ŒæŠŠè¿™ä¹ˆå¤šå°å—çš„idæ•´ç†æˆä¸€ä¸ªæ•°æ®è¡¨æ ¼ï¼ˆå“ˆå¸Œè¡¨ï¼‰ã€‚</p>\n<p>åœ¨ä¸‹è½½å‰ä¼šå°†è¿™ä¸ªè¡¨åˆ†å‘ç»™ä¸åŒçš„ç”¨æˆ·, æ¯ä¸ªç”¨æˆ·å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ•°æ®è¡¨æ ¼è¿›è¡Œå¯»æ‰¾åœ°å€å’Œä¸‹è½½ã€‚</p>\n<p>æ¯”å¦‚ä¸¾ä¸ªç®€å•çš„ç£åŠ›ä¸‹è½½æ–¹å¼çš„ä¾‹å­:</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">ç”¨æˆ·Aæƒ³è¦ä¸‹è½½èµ„æºã€Šé›·ç¥ã€‹, ä½†æ˜¯ä»–ä¸çŸ¥é“å“ªé‡Œæ‰æœ‰ã€Šé›·ç¥ã€‹</span><br><span class=\"line\"></span><br><span class=\"line\">æ‰€ä»¥ä»–å°±é—®é™„è¿‘çš„ç”¨æˆ·Bå’Œç”¨æˆ·CçŸ¥ä¸çŸ¥é“</span><br><span class=\"line\"></span><br><span class=\"line\">å¦‚æœBå’ŒCä¹Ÿä¸çŸ¥é“</span><br><span class=\"line\"></span><br><span class=\"line\">é‚£ä¹ˆç”¨æˆ·Bå’ŒCå°±ä¼šé—®é™„è¿‘çš„ç”¨æˆ·D E F G</span><br><span class=\"line\"></span><br><span class=\"line\">ä»¥æ­¤ç±»æ¨ï¼Œç»ˆäº</span><br><span class=\"line\"></span><br><span class=\"line\">æœ€ç»ˆGçŸ¥é“å“ªé‡Œæœ‰èµ„æºã€Šé›·ç¥ã€‹</span><br><span class=\"line\"></span><br><span class=\"line\">ç„¶åå°±å‘Šè¯‰äº†ç”¨æˆ·Aå“ªäº›äººç”µè„‘ä¸Šæœ‰èµ„æºã€Šé›·ç¥ã€‹</span><br><span class=\"line\"></span><br><span class=\"line\">ç„¶åç”¨æˆ·Aå°±è·Ÿè¿™äº›äººè”ç³»ä¸Šäº†å¹¶è¿›è¡Œäº†ä¸‹è½½</span><br></pre></td></tr></table></figure>\n\n<img style=\"width:500px\" src=\"/p2p/v2-b2d56ef2ea36ec94bf8a772abf1c5e50_1440w-250175.jpeg\">\n\n<img style=\"width:500px\" src=\"/p2p/v2-5b856e95f72d7b692cf226275111fc2c_1440w-382526.jpeg\">\n\n<img style=\"width:500px\" src=\"/p2p/v2-434271fc19a22379d5b84b423c14f3a8_1440w-903221.jpeg\">\n\n<!-- ![v2-b2d56ef2ea36ec94bf8a772abf1c5e50_1440w.jpg](/p2p/v2-b2d56ef2ea36ec94bf8a772abf1c5e50_1440w-250175.jpeg)\n![v2-5b856e95f72d7b692cf226275111fc2c_1440w.jpg](/p2p/v2-5b856e95f72d7b692cf226275111fc2c_1440w-382526.jpeg)\n![v2-434271fc19a22379d5b84b423c14f3a8_1440w.jpg](/p2p/v2-434271fc19a22379d5b84b423c14f3a8_1440w-903221.jpeg) -->\n\n<h3 id=\"Btç§å­\"><a href=\"#Btç§å­\" class=\"headerlink\" title=\"Btç§å­\"></a>Btç§å­</h3><p>Btç§å­çš„ä¸‹è½½æ–¹å¼è¦ç®€ä¾¿ä¸€ç‚¹, ä»–ä¸ç”¨å±‚å±‚å‘è¿™ä¹ˆå¤šäººæ‰“å¬ã€‚</p>\n<p>ä»ç§å­ä¸Šè§£æå°±å¯ä»¥æŸ¥è¯¢åˆ°è°ä¼šæœ‰èµ„æºã€Šé›·ç¥ã€‹ï¼Œè¿™ä¸ªè°å°±ç›¸å½“äºä¸Šé¢æåˆ°çš„ç”¨æˆ·Gï¼Œå®ƒä¹Ÿå«åš<strong>è¿½è¸ªæœåŠ¡å™¨</strong>ã€‚</p>\n<p>ç„¶åæ ¹æ®ç”¨æˆ·Gï¼ˆè¿½è¸ªæœåŠ¡å™¨ï¼‰æä¾›çš„ä¿¡æ¯åœ°å€, å»æ‰¾é‚£äº›ç”¨æˆ·è¿›è¡Œä¸‹è½½å°±å¯ä»¥äº†ã€‚</p>\n<p>æ‰€ä»¥ç§å­å’Œç£åŠ›å°±æ˜¯<strong>å¯»æ‰¾èµ„æºçš„æ–¹å¼ä¸åŒ</strong>è€Œå·²</p>\n<img style=\"width:500px\" src=\"/p2p/v2-58cb3f02c9b5f38af81c0e8ce08462dd_1440w-818501.jpeg\">\n<img style=\"width:500px\" src=\"/p2p/v2-434271fc19a22379d5b84b423c14f3a8_1440w-903221.jpeg\">\n\n\n<!-- ![v2-58cb3f02c9b5f38af81c0e8ce08462dd_1440w.jpg](/p2p/v2-58cb3f02c9b5f38af81c0e8ce08462dd_1440w-818501.jpeg)\n![v2-434271fc19a22379d5b84b423c14f3a8_1440w.jpg](/p2p/v2-434271fc19a22379d5b84b423c14f3a8_1440w-903221.jpeg) -->\n\n<p>ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬é€šè¿‡p2pä¸‹è½½çš„èµ„æºå¾ˆå¤šéƒ½æ˜¯äº›éæ³•èµ„æºã€‚</p>\n<p>æ¯”å¦‚è¯´å¸¸è§çš„ç›—ç‰ˆç”µå½±ï¼Œè€å¸æœºçš„å…°åšåŸºå°¼ï¼Œå—ç‰ˆæƒä¿æŠ¤çš„å…¶ä»–èµ„æºç­‰ã€‚</p>\n<p>å¦‚æœç›´æ¥é€šè¿‡ç›´é“¾ä¸‹è½½ï¼Œæä¾›è¯¥ä¸‹è½½çš„æœåŠ¡å™¨ä¼šè¢«ç›´æ¥å°æ€å’Œå¾‹å¸ˆå‡½è­¦å‘Šã€‚</p>\n<p>btç§å­å¦‚æœæŸ¥åˆ°äº†è¿½è¸ªæœåŠ¡å™¨ï¼Œä¹Ÿä¼šè¢«å°æ€æ‰è¯¥è¿½è¸ªæœåŠ¡å™¨ã€‚</p>\n<p>ä¸è¿‡ä¸€èˆ¬ç§å­æ¯”è¾ƒå¤šï¼Œè€Œä¸”ä¹Ÿå¾ˆéš¾è¢«æŸ¥æ€</p>\n<blockquote>\n<p>å³ä½¿è¿½è¸ªæœåŠ¡å™¨(Tracker)å…¨æŒ‚äº†ï¼Œç°ä»£BTå®¢æˆ·ç«¯çš„è¡¥æ•‘æªæ–½å¦‚: å®¢æˆ·ç«¯æ”¯æŒDHTï¼Œè¿½è¸ªæœåŠ¡å™¨å¤±æ•ˆä¼šä½¿ç”¨DHTå¸®åŠ©æ‰¾åˆ°æ´»è·ƒçš„Peer</p>\n</blockquote>\n<p>é‚£ä»€ä¹ˆp2pä¸‹è½½å™¨æœ€å¥½ç”¨å‘¢?</p>\n<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå›½å†…ç”¨è¿…é›·çš„ç”¨æˆ·æ˜¯æœ€å¤šçš„, ä½†æ˜¯ä¸å¼€ä¼šå‘˜çš„è¯ï¼Œå¯èƒ½ä¸‹è½½é€Ÿåº¦ä¸ä¼šå¦‚ä½ æ‰€æ„ï¼Œä¹Ÿæœ‰å¾ˆå¤šå…¶å®ƒçš„å…è´¹çš„ä¸‹è½½å™¨æ¯”è¿…é›·è¦â€œå¹²å‡€â€ã€â€œæ–‡æ˜â€ã€‚</p>\n<p>ä½†æ˜¯æˆ‘ä¸ªäººè¿˜æ˜¯ç”¨çš„è¿…é›·ï¼Œå› ä¸ºæˆ‘è¯•è¿‡å¾ˆå¤šä¸‹è½½å™¨åŒä¸€ä¸ªç£åŠ›é“¾æ¥è¿…é›·è¦æ¯”å…¶ä»–çš„ä¸‹è½½å™¨å¿«å¾ˆå¤šã€‚</p>\n<p>è€Œä¸”å¾ˆå¤šå†·é—¨èµ„æºå…¶ä»–çš„ä¸‹è½½å™¨éƒ½æ˜¯0kb&#x2F;s, æ‰€ä»¥æˆ‘ä¸å¾—ä¸ç”¨è¿…é›·ã€‚</p>\n<p>å¦‚æœä½ æ˜¯ä¸€ä¸ªä¸æ€ä¹ˆç»å¸¸éœ€è¦ç”¨åˆ°p2pçš„, é‚£ä¹ˆæˆ‘å»ºè®®ä½ å¯ä»¥æ‰¾ä¸€äº›å¹²å‡€çš„ä¸‹è½½å™¨ã€‚</p>\n<p>å¦‚æœä½ éœ€è¦ç»å¸¸p2pä¸‹è½½ï¼Œè¿˜æ˜¯ä¸€äº›æ¯”è¾ƒå†·é—¨çš„èµ„æº, é‚£ä¹ˆè¿…é›·è§‰å¾—æ˜¯æœ€é€‚åˆçš„ï¼Œå½“ç„¶å‰æä½ å¾—å¼€ä¼šå‘˜ã€‚</p>\n<p>å¯èƒ½æœ‰äººä¼šé—®äº†ï¼Œä½ åˆšåˆšä¸æ˜¯è¯´äº†ä»–ä»¬çš„ä¸‹è½½åŸç†å—ã€‚</p>\n<p>éƒ½æ˜¯ä»¥<strong>æ‹¥æœ‰è¯¥èµ„æºçš„ç”¨æˆ·ä½œä¸ºèŠ‚ç‚¹</strong> æ‹¥æœ‰è¯¥èµ„æºçš„ç”¨æˆ·è¶Šå¤šä¸‹è½½çš„é€Ÿåº¦å°±ä¼šè¶Šå¿«å•Šï¼Œè·Ÿä¸‹è½½å™¨æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p>\n<p>æˆ‘ä¹‹å‰è¯•äº†å¾ˆå¤šä¸ªåŒæ ·çš„btç£åŠ›é“¾æ¥ï¼Œ ç”¨è¿…é›·çš„é€Ÿåº¦å°±æ˜¯è¦æ¯”å…¶ä»–çš„æ›´å¿«ï¼Œ ä¸ä¿¡ä½ ä»¬ä¹Ÿå¯ä»¥è¯•ä¸€è¯•ã€‚</p>\n<p>è‡³äºåŸå› ï¼Œå› ä¸ºè¿…é›·çš„æŠ€æœ¯ä¹Ÿæœªå¯¹å¤–å…¬å¼€ï¼Œ æ‰€ä»¥æˆ‘ä¹Ÿä¸ç™¾åˆ†ç™¾ä¿è¯æ˜¯å› ä¸ºä»€ä¹ˆã€‚</p>\n<p>æˆ‘è§‰å¾—CSDNä¸Šæœ‰ä½åšå®¢å†™çš„ä¸é”™ï¼Œ æ‰€ä»¥åˆ†äº«ä¸€ä¸‹ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹:</p>\n<img style=\"width:500px\" src=\"/p2p/v2-1bcc85c2042ea806c824edef98e6f41e_1440w-727348.jpeg\">\n<!-- ![v2-1bcc85c2042ea806c824edef98e6f41e_1440w.jpg](/p2p/v2-1bcc85c2042ea806c824edef98e6f41e_1440w-727348.jpeg) -->\n\n<p>é‚£ä¹ˆæœ‰äººä¼šè¯´, æˆ‘ä¸æƒ³æœåŠ¡ç»™ä»–äººäº†è¦æ€ä¹ˆåŠã€‚</p>\n<p>æœ‰ä¸¤ç§åŠæ³•:</p>\n<ul>\n<li><p>ç¬¬ä¸€ç§æ˜¯åˆ é™¤æ‰ä½ ä¸‹è½½çš„ç£åŠ›èµ„æº</p>\n</li>\n<li><p>ç¬¬äºŒç§æ˜¯å…³é—­p2pçš„ä¸‹è½½å™¨</p>\n</li>\n</ul>\n<p>æ²¡é”™ï¼Œæ¯”å¦‚è¿…é›·ï¼Œä¸ç®¡ä½ æ˜¯å¦åœ¨ä¸‹è½½, åªè¦ä½ æ‰“å¼€å®ƒ, ä½ å°±å¯ä»¥é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨çœ‹åˆ°æœ‰ç½‘é€Ÿåœ¨ä¸Šä¼ ã€‚</p>\n<p>ä½ å…³é—­è¯¥ç¨‹åºåé©¬ä¸Šå°±ä¼šæ¢å¤åˆ°äº†0</p>\n<p>ä½†æ˜¯æ€ä¹ˆè¯´å‘¢ï¼Œå¦‚æœå ç”¨çš„å¸¦å®½ç‰¹åˆ«ä½, ä¸å½±å“ä½¿ç”¨, æˆ‘è¿˜æ˜¯å»ºè®®ä½ ä»¬å¤§æ–¹ä¸€ç‚¹.</p>\n<p>å› ä¸ºæˆ‘æ€•å“ªå¤©è½®åˆ°æˆ‘ä¸‹è½½çš„æ—¶å€™ğŸ˜‚</p>\n<p>ä¸–ç•Œä¼šçªç„¶å¼‚å¸¸<span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzOi8vd3d3LmJpbGliaWxpLmNvbS92aWRlby9CVjF0VjR5MXg3VVA/c3BtX2lkX2Zyb209MzMzLjk5OS4wLjA=\">å®‰é™<i class=\"fa fa-external-link-alt\"></i></span>~</p>\n<h2 id=\"åè®°\"><a href=\"#åè®°\" class=\"headerlink\" title=\"åè®°\"></a>åè®°</h2><p>æœ‰æ„æ€çš„è®¨è®º</p>\n<ul>\n<li>æˆ‘ä»¬ä»è¿…é›·ä¸‹è½½çš„èµ„æºï¼Œéƒ½æ˜¯å¸¦äº†æ ‡è¯†çš„ï¼Œå¼€æœºå¹¶ä¸”å¼€äº†è¿…é›·çš„æ—¶å€™ï¼Œå°±å¤„äºéšæ—¶ä¸Šä¼ çš„çŠ¶æ€ï¼Œå¯ä»¥è¢«åˆ«äººä¸‹è½½ã€‚æˆ‘ä»¬ç”µè„‘å…¶ä»–çš„èµ„æ–™æ²¡æœ‰è¿™ç§æ ‡è¯†ï¼Œä¸ä¼šè¢«è¿…é›·è¯†åˆ«ç”¨ä¸Šä¼ ä½œä»–äººä¸‹è½½ï¼Œæ˜¯è¿™ä¸ªæ„æ€å—ï¼Ÿ<ul>\n<li>å¯ä»¥è¿™ä¹ˆç†è§£</li>\n</ul>\n</li>\n</ul>\n<div class=\"markdown-alert markdown-alert-warning\">\n<p class=\"markdown-alert-title\"><svg class=\"octicon octicon-alert mr-2\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>Warning</p>\n<p>éåŸåˆ›, ä»…ä¸ºäº†è½¬è½½ç•™å­˜ğŸ˜‚</p>\n</div>\n<!--page footer-->\n<ul>\n<li>åŸæ–‡: <span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81NTEzMzcxMjg=\">https://zhuanlan.zhihu.com/p/551337128<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>è§†é¢‘ç‰ˆ: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzOi8vd3d3LmJpbGliaWxpLmNvbS92aWRlby9CVjF0VjR5MXg3VVA/c3BtX2lkX2Zyb209MzMzLjk5OS4wLjA=\">https://link.zhihu.com/?target=https%3A//www.bilibili.com/video/BV1tV4y1x7UP%3Fspm_id_from%3D333.999.0.0<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n","categories":["æŠ€æœ¯"],"tags":["ç§‘æ™®","è½¬è½½","p2p"]},{"title":"ç†è§£metamaskçš„extension-port-streamåŒ…","url":"/parse-extension-port-stream/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL2V4dGVuc2lvbi1wb3J0LXN0cmVhbQ==\">extension-port-stream<i class=\"fa fa-external-link-alt\"></i></span>å°†<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0FkZC1vbnMvV2ViRXh0ZW5zaW9ucy9BUEkvcnVudGltZS9Qb3J0\">æµè§ˆå™¨æ’ä»¶ä¸Šçš„Runtime.Portå¯¹è±¡<i class=\"fa fa-external-link-alt\"></i></span> è½¬æˆstreamæµå¯¹è±¡.</p>\n<p>ç»§æ‰¿äº<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9yZWFkYWJsZS1zdHJlYW0=\">readable-stream<i class=\"fa fa-external-link-alt\"></i></span><sup id=\"fnref:1\"><a href=\"#fn:1\" rel=\"footnote\"><span class=\"hint--top hint--error hint--medium hint--rounded hint--bounce\" aria-label=\"readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„`StreamsAPI`ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ\n\">[1]</span></a></sup>çš„<code>Duplex</code></p>\n<p>è¯¥åº“æ¯”è¾ƒç®€å•:</p>\n<p>streamå®ä¾‹å¯¹è±¡ä¸Šçš„<code>_write</code>è°ƒç”¨äº†portInstance.postMessageæ–¹æ³• ä½œä¸ºè¾“å‡º<br>ç›‘å¬<code>portInstance.onMessage.addListener</code>(å†…éƒ¨è°ƒç”¨äº†<code>stream.push</code>æ–¹æ³•)ä½œä¸ºè¾“å…¥</p>\n<h2 id=\"æ³¨æ„\"><a href=\"#æ³¨æ„\" class=\"headerlink\" title=\"æ³¨æ„\"></a>æ³¨æ„</h2><ul>\n<li><code>@metamask/post-message-stream</code>ä¸­çš„runtimeæ˜¯å¯¹åº”æµè§ˆå™¨æ’ä»¶ä¸­çš„ <code>chrome.runtime.sendMessage</code>å’Œ<code>chrome.runtime.onMessage.addListener</code> è¿™ç§é€‚ç”¨äº<strong>ä¸€æ¬¡æ€§å‘é€å’Œæ¥æ”¶æ¶ˆæ¯</strong></li>\n<li><code>extension-port-stream</code>ä¸­æ˜¯å¯¹åº” <code>portInstance = chrome.runtime.connect</code> ä¸­çš„ <code>portInstance.postMessage</code> å’Œ <code>portInstance.onMessage.addListener</code>æŒä¹…çš„åŒå‘é€šä¿¡é€šé“ï¼Œé€‚ç”¨äºéœ€è¦æŒç»­äº¤äº’çš„åœºæ™¯</li>\n</ul>\n<div id=\"footnotes\"><hr><div id=\"footnotelist\"><ol style=\"list-style: none; padding-left: 0; margin-left: 40px\"><li id=\"fn:1\"><span style=\"display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px\">1.</span><span style=\"display: inline-block; vertical-align: top; margin-left: 10px;\">readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„<code>StreamsAPI</code>ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ<a href=\"#fnref:1\" rev=\"footnote\"> â†©</a></span></li></ol></div></div>","categories":["æŠ€æœ¯"],"tags":["web3","chrome-extension","metamask","stream","npm-package"]},{"title":"chromeæ’ä»¶å¼€å‘åŸºç¡€","url":"/chrome-extension/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p>chromeæ’ä»¶å¯ä»¥æ‰©å±•æµè§ˆå™¨çš„åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æ›´ä¾¿æ·çš„æ“ä½œæˆ–å¢å¼ºç½‘é¡µçš„äº¤äº’ä½“éªŒã€‚</p>\n<h2 id=\"ä¸»è¦æ–‡ä»¶å†…å®¹\"><a href=\"#ä¸»è¦æ–‡ä»¶å†…å®¹\" class=\"headerlink\" title=\"ä¸»è¦æ–‡ä»¶å†…å®¹\"></a>ä¸»è¦æ–‡ä»¶å†…å®¹</h2><ul>\n<li>Manifest ï¼ˆæ¸…å•æ–‡ä»¶ï¼‰ä¸»è¦çš„æ’ä»¶é…ç½®æ¸…å•ï¼ŒåŒ…å«æ’ä»¶çš„åç§°ã€ç‰ˆæœ¬å·ã€å›¾æ ‡ã€è„šæœ¬æ–‡ä»¶åç§°ç­‰<ul>\n<li>â­ï¸ permissions æƒé™</li>\n</ul>\n</li>\n<li>Content Script ï¼ˆå†…å®¹è„šæœ¬ï¼‰<ul>\n<li>injected scriptï¼Œæ˜¯æ’ä»¶<strong>æ³¨å…¥åˆ°é¡µé¢çš„è„š</strong>æœ¬ï¼Œä½†æ˜¯ä¸<strong>ä¼šä½“ç°åœ¨é¡µé¢ DOM</strong> ç»“æ„é‡Œã€‚</li>\n<li>content script <strong>å¯ä»¥æ“ä½œ DOM</strong>ï¼Œä½†æ˜¯å®ƒå’Œé¡µé¢å…¶ä»–çš„è„šæœ¬æ˜¯éš”ç¦»çš„ï¼Œ<strong>è®¿é—®ä¸åˆ°å…¶ä»–è„šæœ¬</strong>å®šä¹‰çš„å˜é‡ã€å‡½æ•°ç­‰ï¼Œç›¸å½“äºè¿è¡Œåœ¨<strong>å•ç‹¬çš„æ²™ç›’</strong>é‡Œã€‚</li>\n<li>content script å¯ä»¥<strong>è°ƒç”¨æœ‰é™çš„ chrome æ’ä»¶ API</strong>ï¼Œç½‘ç»œè¯·æ±‚æ”¶åˆ°åŒæºç­–ç•¥é™åˆ¶ã€‚</li>\n<li>è°ƒè¯•å¯ä»¥åœ¨ chrome devtool é‡Œçš„source é‡Œé¢çš„ content script</li>\n</ul>\n</li>\n<li>Background Script ï¼ˆåå°è„šæœ¬ï¼‰<ul>\n<li>å¯ä»¥è°ƒç”¨<strong>å…¨éƒ¨çš„ chrome æ’ä»¶ API</strong>ï¼Œå®ç°è·¨åŸŸè¯·æ±‚ã€ç½‘é¡µæˆªå±ã€å¼¹å‡º chrome é€šçŸ¥æ¶ˆæ¯ç­‰åŠŸèƒ½ã€‚</li>\n<li>ç›¸å½“äºåœ¨ä¸€ä¸ªéšè—çš„æµè§ˆå™¨é¡µé¢å†…é»˜é»˜è¿è¡Œã€‚(ç±»ä¼¼<strong>ç‹¬ç«‹çš„ä¸€ä¸ªçº¿ç¨‹</strong>)</li>\n</ul>\n</li>\n<li>åŠŸèƒ½é¡µé¢(ç›¸å½“äºå¤šé¡µåº”ç”¨)<ul>\n<li>åŒ…æ‹¬ç‚¹å‡»æ’ä»¶å›¾æ ‡å¼¹å‡ºçš„é¡µé¢(ç®€ç§° popup)popup.html popup.js...</li>\n<li>æ’ä»¶çš„é…ç½®é¡µé¢(ç®€ç§° options)</li>\n<li>æµè§ˆå™¨æ–°å¢tabé»˜è®¤é¡µ (newtab)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å„éƒ¨åˆ†æƒé™\"><a href=\"#å„éƒ¨åˆ†æƒé™\" class=\"headerlink\" title=\"å„éƒ¨åˆ†æƒé™\"></a>å„éƒ¨åˆ†æƒé™</h2><p><img src=\"/./chrome-extension/1.png\" alt=\"1\" loading=\"lazy\"></p>\n<blockquote>\n<p>ps: injected script å¯ä»¥ç†è§£ä¸º æºwebé¡µè„šæœ¬</p>\n</blockquote>\n<h2 id=\"é€šä¿¡æ–¹å¼\"><a href=\"#é€šä¿¡æ–¹å¼\" class=\"headerlink\" title=\"é€šä¿¡æ–¹å¼\"></a>é€šä¿¡æ–¹å¼</h2><p><img src=\"/./chrome-extension/2.png\" alt=\"2\" loading=\"lazy\"></p>\n<blockquote>\n<p>ps: injected script å¯ä»¥ç†è§£ä¸º æºwebé¡µè„šæœ¬</p>\n</blockquote>\n<h3 id=\"content-script-popupä¸background\"><a href=\"#content-script-popupä¸background\" class=\"headerlink\" title=\"content-script&#x2F;popupä¸background\"></a>content-script&#x2F;popupä¸background</h3><ol>\n<li><code>chrome.runtime.sendMessage</code> å’Œ <code>chrome.runtime.onMessage.addListener</code> é€‚ç”¨äº<strong>ä¸€æ¬¡æ€§å‘é€å’Œæ¥æ”¶æ¶ˆæ¯</strong></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‘é€æ–¹ (å†…å®¹è„šæœ¬æˆ–å¼¹çª—)</span></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">sendMessage</span>(&#123; <span class=\"attr\">greeting</span>: <span class=\"string\">&quot;hello&quot;</span> &#125;, <span class=\"function\">(<span class=\"params\">response</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Response:&quot;</span>, response);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¥æ”¶æ–¹ (åå°è„šæœ¬)</span></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"property\">onMessage</span>.<span class=\"title function_\">addListener</span>(<span class=\"function\">(<span class=\"params\">message, sender, sendResponse</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Received message:&quot;</span>, message);</span><br><span class=\"line\">  <span class=\"title function_\">sendResponse</span>(&#123; <span class=\"attr\">farewell</span>: <span class=\"string\">&quot;goodbye&quot;</span> &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// Return true to keep the message channel open for async response.</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>chrome.tabs.sendMessage(tabId, message, options)</code> å…è®¸å‘ç‰¹å®šæ ‡ç­¾çš„å†…å®¹è„šæœ¬(content-script)å‘é€æ¶ˆæ¯<br>ä½¿ç”¨å‰éœ€è°ƒç”¨<code>chrome.tabs.query</code>è·å– tabId ä»¥æŒ‡å®šé‚£ä¸ªç‰¹å®šçš„tabæ ‡ç­¾ä¹Ÿå‘é€æ¶ˆæ¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">chrome.<span class=\"property\">tabs</span>.<span class=\"title function_\">query</span>(&#123;<span class=\"attr\">active</span>: <span class=\"literal\">true</span>, <span class=\"attr\">currentWindow</span>: <span class=\"literal\">true</span>&#125;, <span class=\"keyword\">function</span>(<span class=\"params\">tabs</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å‘é€åˆ°å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µé¢</span></span><br><span class=\"line\">  chrome.<span class=\"property\">tabs</span>.<span class=\"title function_\">sendMessage</span>(tabs[<span class=\"number\">0</span>].<span class=\"property\">id</span>, &#123;<span class=\"attr\">greeting</span>: <span class=\"string\">&quot;hello&quot;</span>&#125;, <span class=\"keyword\">function</span>(<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(response.<span class=\"property\">farewell</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>chrome.runtime.connect</code> å’Œ <code>chrome.runtime.onConnect</code> æŒä¹…çš„åŒå‘é€šä¿¡é€šé“ï¼Œé€‚ç”¨äºéœ€è¦æŒç»­äº¤äº’çš„åœºæ™¯ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‘é€æ–¹ (å†…å®¹è„šæœ¬)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> port = chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">connect</span>(&#123; <span class=\"attr\">name</span>: <span class=\"string\">&quot;content-channel&quot;</span> &#125;);</span><br><span class=\"line\">port.<span class=\"title function_\">postMessage</span>(&#123; <span class=\"attr\">greeting</span>: <span class=\"string\">&quot;hello&quot;</span> &#125;);</span><br><span class=\"line\">port.<span class=\"property\">onMessage</span>.<span class=\"title function_\">addListener</span>(<span class=\"function\">(<span class=\"params\">response</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Response:&quot;</span>, response);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¥æ”¶æ–¹ (åå°è„šæœ¬)</span></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"property\">onConnect</span>.<span class=\"title function_\">addListener</span>(<span class=\"function\">(<span class=\"params\">port</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Connected:&quot;</span>, port.<span class=\"property\">name</span>);</span><br><span class=\"line\">  port.<span class=\"property\">onMessage</span>.<span class=\"title function_\">addListener</span>(<span class=\"function\">(<span class=\"params\">message</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Message received:&quot;</span>, message);</span><br><span class=\"line\">    port.<span class=\"title function_\">postMessage</span>(&#123; <span class=\"attr\">response</span>: <span class=\"string\">&quot;hi from background&quot;</span> &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>chrome.tabs.connect(tabId)</code>æŒ‡å®šæ ‡ç­¾ä¸­çš„å†…å®¹è„šæœ¬(content-script)ä¹‹é—´çš„è¿æ¥<br>ä½¿ç”¨å‰éœ€è°ƒç”¨<code>chrome.tabs.query</code>è·å– tabId ä»¥æŒ‡å®šé‚£ä¸ªç‰¹å®šçš„tabæ ‡ç­¾ä¹Ÿå‘é€æ¶ˆæ¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">browser.<span class=\"property\">tabs</span>.<span class=\"title function_\">connect</span>(</span><br><span class=\"line\">  tabId,      <span class=\"comment\">// æ•´æ•°</span></span><br><span class=\"line\">  connectInfo <span class=\"comment\">// å¯é€‰çš„å¯¹è±¡</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"content-script-ä¸-webé¡µ\"><a href=\"#content-script-ä¸-webé¡µ\" class=\"headerlink\" title=\"content-script ä¸ webé¡µ\"></a>content-script ä¸ webé¡µ</h3><ol>\n<li><code>window.postMessage</code> å’Œ <code>window.addEventListener(&quot;message&quot;, ...)</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç½‘é¡µè„šæœ¬</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">source</span> !== <span class=\"variable language_\">window</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;FROM_EXTENSION&quot;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Message from extension:&quot;</span>, event.<span class=\"property\">data</span>.<span class=\"property\">payload</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">postMessage</span>(&#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;TO_EXTENSION&quot;</span>, <span class=\"attr\">payload</span>: <span class=\"string\">&quot;Hello from page&quot;</span> &#125;, <span class=\"string\">&quot;*&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å†…å®¹è„šæœ¬</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">postMessage</span>(&#123; <span class=\"attr\">type</span>: <span class=\"string\">&quot;FROM_EXTENSION&quot;</span>, <span class=\"attr\">payload</span>: <span class=\"string\">&quot;Hello from extension&quot;</span> &#125;, <span class=\"string\">&quot;*&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;message&quot;</span>, <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">source</span> !== <span class=\"variable language_\">window</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">data</span>.<span class=\"property\">type</span> === <span class=\"string\">&quot;TO_EXTENSION&quot;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;Message from page:&quot;</span>, event.<span class=\"property\">data</span>.<span class=\"property\">payload</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è·¨æ’ä»¶é€šä¿¡\"><a href=\"#è·¨æ’ä»¶é€šä¿¡\" class=\"headerlink\" title=\"è·¨æ’ä»¶é€šä¿¡\"></a>è·¨æ’ä»¶é€šä¿¡</h3><p>é™¤äº†æœ¬èº«chrome extension è¿˜å¯ä»¥ä¸å…¶ä»–extensioné€šä¿¡</p>\n<blockquote>\n<p><strong>å‘é€è¯·æ±‚ä¿¡æ¯æ—¶ï¼Œå¿…é¡»æä¾›chromeæ’ä»¶çš„ ID</strong></p>\n</blockquote>\n<ol>\n<li>ä¸€æ¬¡æ€§é€šä¿¡ <code>chrome.runtime.sendMessage(id, message)</code> å’Œ<code>chrome.runtime.onMessageExternal()</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// éœ€è¦é€šä¿¡çš„extension id</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> laserExtensionId = <span class=\"string\">&quot;abcdefghijklmnoabcdefhijklmnoabc&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">sendMessage</span>(laserExtensionId, &#123;<span class=\"attr\">getTargetData</span>: <span class=\"literal\">true</span>&#125;,</span><br><span class=\"line\">  <span class=\"keyword\">function</span>(<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"title function_\">targetInRange</span>(response.<span class=\"property\">targetData</span>))</span><br><span class=\"line\">      chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">sendMessage</span>(laserExtensionId, &#123;<span class=\"attr\">activateLasers</span>: <span class=\"literal\">true</span>&#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"property\">onMessageExternal</span>.<span class=\"title function_\">addListener</span>(</span><br><span class=\"line\">  <span class=\"keyword\">function</span>(<span class=\"params\">request, sender, sendResponse</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// é»‘åå•ï¼Œä¸å…è®¸æ­¤æ‰©å±•ç¨‹åºè®¿é—®</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sender.<span class=\"property\">id</span> === blocklistedExtension)</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (request.<span class=\"property\">getTargetData</span>)</span><br><span class=\"line\">      <span class=\"title function_\">sendResponse</span>(&#123;<span class=\"attr\">targetData</span>: targetData&#125;);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (request.<span class=\"property\">activateLasers</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> success = <span class=\"title function_\">activateLasers</span>();</span><br><span class=\"line\">      <span class=\"title function_\">sendResponse</span>(&#123;<span class=\"attr\">activateLasers</span>: success&#125;);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>é•¿é“¾æ¥é€šä¿¡<code>chrome.runtime.connect(id)</code> å’Œ <code>chrome.runtime.onConnectExternal.addListener</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// éœ€è¦é€šä¿¡çš„extension id</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> laserExtensionId = <span class=\"string\">&quot;abcdefghijklmnoabcdefhijklmnoabc&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> port = chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">connect</span>(laserExtensionId);</span><br><span class=\"line\">port.<span class=\"title function_\">postMessage</span>(...);</span><br><span class=\"line\"></span><br><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"property\">onConnectExternal</span>.<span class=\"title function_\">addListener</span>(<span class=\"keyword\">function</span>(<span class=\"params\">port</span>) &#123;</span><br><span class=\"line\">  port.<span class=\"property\">onMessage</span>.<span class=\"title function_\">addListener</span>(<span class=\"keyword\">function</span>(<span class=\"params\">msg</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  ...</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webé¡µç›´æ¥ä¸-backgroundé€šä¿¡\"><a href=\"#webé¡µç›´æ¥ä¸-backgroundé€šä¿¡\" class=\"headerlink\" title=\"webé¡µç›´æ¥ä¸ backgroundé€šä¿¡\"></a>webé¡µç›´æ¥ä¸ backgroundé€šä¿¡</h3><div class=\"markdown-alert markdown-alert-tip\">\n<p class=\"markdown-alert-title\"><svg class=\"octicon octicon-light-bulb mr-2\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z\"></path></svg>Tip</p>\n<p>æ³¨æ„: manifesté…ç½® éœ€ externally_connectable.matchesï¼ï¼è¿™ä¸ªå¾ˆé‡è¦ åªæœ‰é…ç½®äº†è¯¥å€¼ æ‰èƒ½åœ¨webé¡µç›´æ¥è®¿é—®åˆ° <code>chrome.runtime</code></p>\n</div>\n<p>å¦‚æœæœªæŒ‡å®š<code>externally_connectable</code>å¥ï¼Œåˆ™é»˜è®¤æ‰€æœ‰chrome extensionéƒ½å¯ä»¥é“¾æ¥ï¼Œä½†ç½‘é¡µæ— æ³•ç›´æ¥è¿æ¥ï¼Œ<br>å½“æŒ‡å®šexternally_connectableï¼Œå¦‚æœæœªæŒ‡å®š <code>externally_connectable.ids: [&quot;*&quot;]</code> åˆ™å…¶ä»–æ‰©å±•å°†å¤±å»å¯¹ä½ çš„æ‰©å±•çš„è¿æ¥ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœ éœ€æ³¨æ„ã€‚</p>\n<ul>\n<li><code>externally_connectable.ids</code>æŒ‡å®šå…è®¸å…¶ä»–æ‰©å±•è¿æ¥ä½ çš„æ‰©å±•çš„id</li>\n<li><code>externally_connectable.matches</code>: æŒ‡å®šå…è®¸ç›´æ¥è¿æ¥ ä½ çš„æ‰©å±•çš„çš„url</li>\n</ul>\n<blockquote>\n<p>æ‰©å±•å³æ˜¯chrome extension</p>\n</blockquote>\n<p>webé¡µç›´æ¥ä¸æ’ä»¶é€šä¿¡ éœ€æŒ‡å®šæ’ä»¶id ä¸ è·¨æ’ä»¶é€šä¿¡å·®ä¸å¤š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">chrome.<span class=\"property\">runtime</span>.<span class=\"title function_\">sendMessage</span>(editorExtensionId, &#123;<span class=\"attr\">openUrlInEditor</span>: url&#125;,</span><br><span class=\"line\">  <span class=\"keyword\">function</span>(<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!response.<span class=\"property\">success</span>) <span class=\"title function_\">handleError</span>(url);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"storage\"><a href=\"#storage\" class=\"headerlink\" title=\"storage\"></a>storage</h2><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kb2NzL2V4dGVuc2lvbnMvcmVmZXJlbmNlL2FwaS9zdG9yYWdl\">å®˜æ–¹æ–‡æ¡£<i class=\"fa fa-external-link-alt\"></i></span></p>\n<div class=\"markdown-alert markdown-alert-tip\">\n<p class=\"markdown-alert-title\"><svg class=\"octicon octicon-light-bulb mr-2\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z\"></path></svg>Tip</p>\n<p>ç¾è§‚ç‚¹è§‚å¯Ÿchromeçš„storageå¯ä½¿ç”¨è¯¥æ’ä»¶: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9jaHJvbWV3ZWJzdG9yZS5nb29nbGUuY29tL2RldGFpbC9zdG9yYWdlLWFyZWEtZXhwbG9yZXIvb2NmampqamhrcGFwb2NpZ2ltbXBwZXBqZ2ZkZWNqa2I=\">Storage Area Explorer<i class=\"fa fa-external-link-alt\"></i></span></p>\n</div>\n<p>storageå­˜å‚¨åŒº:</p>\n<ul>\n<li><code>storage.local</code>: æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œå¹¶åœ¨åˆ é™¤æ‰©å±•æ—¶æ¸…é™¤</li>\n<li><code>storage.sync</code>: ä»¥åˆ©ç”¨ Chrome çš„åŒæ­¥åŠŸèƒ½ï¼Œ<strong>å®ç°åŒä¸€è´¦æˆ·ä¸‹çš„æ‰©å±•ç¨‹åºæ•°æ®åœ¨å¤šä¸ªè®¾å¤‡ä¹‹é—´åŒæ­¥</strong><ul>\n<li>å¦‚æœå·²ç™»å½•è´¦æˆ·çš„ Chrome ç¦»çº¿æ—¶ï¼Œå¸Œæœ›åŒæ­¥å­˜å‚¨çš„æ•°æ®ä¼šå…ˆè¿›è¡Œæœ¬åœ°å­˜å‚¨ï¼Œç­‰å¾…æµè§ˆå™¨ä¸Šçº¿åå†è¿›è¡ŒåŒæ­¥ã€‚</li>\n<li>å¦‚æœç”¨æˆ·åœ¨ Chrome è®¾ç½®ä¸­å–æ¶ˆäº†æ•°æ®åŒæ­¥åŠŸèƒ½ï¼Œé‚£ä¹ˆ chrome.storage.sync ç›¸å…³æ–¹æ³•çš„ä½œç”¨å’Œ chrome.storage.local ä¸€æ ·</li>\n</ul>\n</li>\n<li><code>storage.session</code>: åœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´å°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­</li>\n<li><code>storage.managed</code>: åªè¯»å­˜å‚¨ï¼Œç­–ç•¥ç±»ä¼¼äºé€‰é¡¹ï¼Œä½†ç”±ç³»ç»Ÿç®¡ç†å‘˜è€Œä¸æ˜¯ç”¨æˆ·é…ç½®ï¼Œå…è®¸ä¸ºç»„ç»‡çš„æ‰€æœ‰ç”¨æˆ·é¢„å…ˆé…ç½®æ‰©å±•</li>\n</ul>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82OTk4ODY0MTIwNjExMDk0NTY0\">https://juejin.cn/post/6998864120611094564<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82ODQ0OTAzOTg1NzExNjc3NDUz\">https://juejin.cn/post/6844903985711677453<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n","categories":["æŠ€æœ¯"],"tags":["chrome-extension"]},{"title":"ç†è§£@metamask/post-message-streamåŒ…","url":"/parse-post-message-stream/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL3Bvc3QtbWVzc2FnZS1zdHJlYW0=\">@metamask&#x2F;post-message-stream<i class=\"fa fa-external-link-alt\"></i></span> æ˜¯MetaMaskæä¾›çš„ä¸€ä¸ªåœ¨<code>window.postMessage</code>å®ç°çš„åŒå·¥å¯¹è±¡æµ(åŸºäº Duplex çš„objectMode)</p>\n<p>è¯¥åº“èµ·åˆä»…æ”¯æŒ <code>window.postMessage</code>çš„ç¯å¢ƒ, åç»­è¯¥åº“æ‰©å±•ç¯å¢ƒèŒƒå›´:</p>\n<ul>\n<li>window.postMessage: <code>window.postMessage</code> å’Œ <code>window.addEventListener(&#39;message&#39;,...)</code></li>\n<li>runtime: æµè§ˆå™¨æ’ä»¶ä¸­çš„ <code>chrome.runtime.sendMessage</code>å’Œ<code>chrome.runtime.onMessage.addListener</code></li>\n<li>webWorker:<ul>\n<li>webç«¯çš„<code>WebWorkerParentPostMessageStream</code>: <code>worker.postMessage</code>å’Œ<code>worker.onmessage</code></li>\n<li>workerç«¯çš„<code>WebWorkerPostMessageStream</code>: <code>self.postMessage</code> <code>self.addEventListener(&#39;message&#39;, ...)</code></li>\n</ul>\n</li>\n<li>node-process:<ul>\n<li>çˆ¶è¿›ç¨‹<code>ProcessParentMessageStream</code>: <code>process.send</code>å’Œ<code>process.on(&#39;message&#39;, ...)</code></li>\n<li>å­è¿›ç¨‹<code>ProcessMessageStream</code>: <code>globalThis.process.send</code>å’Œ<code>globalThis.process.on(&#39;message&#39;, ...)</code></li>\n</ul>\n</li>\n<li>node-thread:<ul>\n<li>çˆ¶çº¿ç¨‹ <code>ThreadParentMessageStream</code>: <code>worker.postMessage</code> å’Œ <code>worker.on(&#39;message&#39;, ...)</code></li>\n<li>å­çº¿ç¨‹<code>ThreadMessageStream</code>: <code>parentPort.postMessage</code> å’Œ <code>parentPort.on(&#39;message&#39;, ...)</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å¯¹æ¯”\"><a href=\"#å¯¹æ¯”\" class=\"headerlink\" title=\"å¯¹æ¯”\"></a>å¯¹æ¯”</h2><p>æœªä½¿ç”¨è¯¥åº“ä¹‹å‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (e.<span class=\"property\">data</span>.<span class=\"property\">target</span> === <span class=\"string\">&#x27;nameA&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e.<span class=\"property\">data</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">postMessage</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;nameB&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">target</span>: <span class=\"string\">&#x27;nameA&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">WindowPostMessageStream</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@metamask/post-message-stream&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> streamA = <span class=\"keyword\">new</span> <span class=\"title class_\">WindowPostMessageStream</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;streamA&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">target</span>: <span class=\"string\">&#x27;streamB&#x27;</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// postMessage</span></span><br><span class=\"line\">streamA.<span class=\"title function_\">write</span>(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> streamB = <span class=\"keyword\">new</span> <span class=\"title class_\">WindowPostMessageStream</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;streamB&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">target</span>: <span class=\"string\">&#x27;streamA&#x27;</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// on message</span></span><br><span class=\"line\">streamB.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;data&#x27;</span>, <span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æºç \"><a href=\"#æºç \" class=\"headerlink\" title=\"æºç \"></a>æºç </h2><p>UMLç±»å›¾: <code>- Private</code>ã€<code># Protected</code>ã€<code>* Abstract(æ¸²æŸ“å‡ºæ¥æ˜¯æ–œä½“)</code>ã€<code>$ Static(æ¸²æŸ“å‡ºæ¥æ˜¯ä¸‹åˆ’çº¿)</code></p>\n<pre><code class=\"highlight mermaid\">classDiagram\ndirection RL\nclass BasePostMessageStream&#123;\n  -Boolean _init\n  -Boolean _haveSyn\n  -Log _log\n  #_handshake()\n  #_onData()\n  #_postMessage()*\n  +_read()\n  +_write()\n  +_setLogger()\n&#125;\nnamespace window &#123;\n  class WindowPostMessageStream &#123;\n    #_postMessage()\n    -_onMessage()\n    _destroy()\n  &#125;\n&#125;\nBasePostMessageStream &lt;|-- WindowPostMessageStream: ç»§æ‰¿</code></pre>\n\n<p><code>ProcessMessageStream</code>,<code>ProcessParentMessageStream</code><br><code>ThreadMessageStream</code>, <code>ThreadParentMessageStream</code><br><code>BrowserRuntimePostMessageStream</code><br><code>WebWorkerPostMessageStream</code>, <code>WebWorkerParentPostMessageStream</code><br>ä¸WindowPostMessageStreamæˆå‘˜ç±»ä¼¼</p>\n<p>å…¶ä¸­åŸºç±»<code>BasePostMessageStream</code>ç»§æ‰¿äº<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9yZWFkYWJsZS1zdHJlYW0=\">readable-stream<i class=\"fa fa-external-link-alt\"></i></span><sup id=\"fnref:1\"><a href=\"#fn:1\" rel=\"footnote\"><span class=\"hint--top hint--error hint--medium hint--rounded hint--bounce\" aria-label=\"readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„`StreamsAPI`ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ\n\">[1]</span></a></sup>çš„<code>Duplex</code></p>\n<div id=\"footnotes\"><hr><div id=\"footnotelist\"><ol style=\"list-style: none; padding-left: 0; margin-left: 40px\"><li id=\"fn:1\"><span style=\"display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px\">1.</span><span style=\"display: inline-block; vertical-align: top; margin-left: 10px;\">readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„<code>StreamsAPI</code>ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ<a href=\"#fnref:1\" rev=\"footnote\"> â†©</a></span></li></ol></div></div>","categories":["æŠ€æœ¯"],"tags":["web3","chrome-extension","metamask","stream","npm-package"]},{"title":"ç†è§£@metamask/object-multiplexåŒ…","url":"/parse-object-multiplex/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL29iamVjdC1tdWx0aXBsZXg=\">@metamask&#x2F;object-multiplex<i class=\"fa fa-external-link-alt\"></i></span> æ˜¯ MetaMask æä¾›çš„ä¸€ä¸ªåŸºäº<code>objectMode</code>çš„æµå¤šè·¯å¤ç”¨åº“.</p>\n<p>ç”¨äºå°†<strong>å¤šæ¡æµæ•´åˆåˆ°åŒä¸€ä¸ªæµä¸­å¤„ç†</strong>ï¼Œåœ¨<strong>åŒä¸€ä¸ªæµä¸­åŒæ—¶å¤„ç†å¤šç§ä¸åŒç±»å‹çš„æ•°æ®é€šé“</strong>ï¼ˆå³å¤šè·¯å¤ç”¨ï¼‰ã€‚</p>\n<p><code>ObjectMultiplex</code>ç»§æ‰¿äº<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9yZWFkYWJsZS1zdHJlYW0=\">readable-stream<i class=\"fa fa-external-link-alt\"></i></span><sup id=\"fnref:1\"><a href=\"#fn:1\" rel=\"footnote\"><span class=\"hint--top hint--error hint--medium hint--rounded hint--bounce\" aria-label=\"readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„`StreamsAPI`ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ\n\">[1]</span></a></sup>çš„<code>Duplex</code></p>\n<h2 id=\"å¯¹æ¯”\"><a href=\"#å¯¹æ¯”\" class=\"headerlink\" title=\"å¯¹æ¯”\"></a>å¯¹æ¯”</h2><p>ä½¿ç”¨<code>ObjectMultiplex</code> å¤šä¸ªæµåŒæ—¶ç»è¿‡ä¸€ä¸ªå¤„ç†æµ</p>\n<p>ä¸ä½¿ç”¨<code>ObjectMultiplex</code>æ—¶:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> streamA = <span class=\"keyword\">new</span> <span class=\"title class_\">Duplex</span>(...)</span><br><span class=\"line\"><span class=\"keyword\">const</span> streamB = <span class=\"keyword\">new</span> <span class=\"title class_\">Duplex</span>(...)</span><br><span class=\"line\"><span class=\"keyword\">const</span> transformStream = <span class=\"keyword\">new</span> <span class=\"title class_\">Transform</span>(...)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ­¤æ—¶éœ€åˆ†åˆ«æ·»åŠ transformStream</span></span><br><span class=\"line\">streamA.<span class=\"title function_\">pipe</span>(transformStream).<span class=\"title function_\">pipe</span>(streamA)</span><br><span class=\"line\">streamB.<span class=\"title function_\">pipe</span>(transformStream).<span class=\"title function_\">pipe</span>(streamB)</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨<code>ObjectMultiplex</code>æ—¶, æ³¨æ„transformStreaméœ€å¼€å¯objectMode(å› ä¸ºObjectMultiplexä½¿ç”¨å¯¹è±¡å½¢å¼ä¼ è¾“æ•°æ®)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Transform</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;readable-stream&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ObjectMultiplex</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@metamask/object-multiplex&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> mux = <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectMultiplex</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> streamA = mux.<span class=\"title function_\">createStream</span>(<span class=\"string\">&#x27;streamA&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> streamB = mux.<span class=\"title function_\">createStream</span>(<span class=\"string\">&#x27;streamB&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> transformStream = <span class=\"keyword\">new</span> <span class=\"title class_\">Transform</span>(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// !! æ³¨æ„å¿…é¡»objectMode: true, object-multiplexå†…éƒ¨æ˜¯ä½¿ç”¨å¯¹è±¡å½¢å¼ä¼ è¾“çš„</span></span><br><span class=\"line\">  <span class=\"attr\">objectMode</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"title function_\">transform</span>(<span class=\"params\">chunk, encoding, callback</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;transform: &#x27;</span>, chunk);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">push</span>(chunk);</span><br><span class=\"line\">    <span class=\"title function_\">callback</span>();</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ­¤æ—¶åªéœ€ç›´æ¥å¾€muxçˆ¶æµ æ·»åŠ  transformStream</span></span><br><span class=\"line\">mux.<span class=\"title function_\">pipe</span>(transformStream).<span class=\"title function_\">pipe</span>(mux);</span><br><span class=\"line\"></span><br><span class=\"line\">streamA.<span class=\"title function_\">write</span>(<span class=\"string\">&#x27;streamA test&#x27;</span>);</span><br><span class=\"line\">streamB.<span class=\"title function_\">write</span>(<span class=\"string\">&#x27;streamB test&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ­¤æ—¶transformStream æ¥æ”¶åˆ°æ•°æ® ä¸º</span></span><br><span class=\"line\"><span class=\"comment\">// transform:  &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   name: &quot;streamA&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//   data: &quot;streamA test&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// transform:  &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   name: &quot;streamB&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//   data: &quot;streamB test&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¤´å°¾åŒä¸€æµçš„æ„ä¹‰\"><a href=\"#å¤´å°¾åŒä¸€æµçš„æ„ä¹‰\" class=\"headerlink\" title=\"å¤´å°¾åŒä¸€æµçš„æ„ä¹‰\"></a>å¤´å°¾åŒä¸€æµçš„æ„ä¹‰</h2><p>metamaskå‡ºç°å¾ˆå¤šå¤´å°¾åŒä¸€æµ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">mux.<span class=\"title function_\">pipe</span>(streamA).<span class=\"title function_\">pipe</span>(mux)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>mux.pipe(streamA): å°† mux çš„è¾“å‡ºï¼ˆåˆ†å‘åçš„æ•°æ®ï¼‰å‘é€åˆ° streamA</li>\n<li>streamA.pipe(mux): å°† streamA çš„è¾“å…¥ï¼ˆé€šé“çš„æ•°æ®ï¼‰å‘é€å› mux, è®© mux æ”¶é›†å¹¶åˆ†å‘ã€‚</li>\n</ul>\n<p>mux éœ€è¦ä» streamA ä¸­æ”¶é›†æ•°æ®ï¼ŒåŒæ—¶å°†æ•°æ®å‘é€ç»™ streamAã€‚è¿™æ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„å¾ªç¯</p>\n<p>å®ç°äº†åŒå‘é€šä¿¡: éœ€è¦æ—¢å‘é€åˆæ¥æ”¶æ•°æ®ï¼Œå½¢æˆå®Œæ•´çš„é€šä¿¡é“¾è·¯</p>\n<h3 id=\"åŒå‘é€šä¿¡\"><a href=\"#åŒå‘é€šä¿¡\" class=\"headerlink\" title=\"åŒå‘é€šä¿¡\"></a>åŒå‘é€šä¿¡</h3><p>streamAæµå’ŒtransformStreamæµå¯ä»¥ç›¸äº’é€šä¿¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Transform</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;readable-stream&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">ObjectMultiplex</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@metamask/object-multiplex&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> mux = <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectMultiplex</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> streamA = mux.<span class=\"title function_\">createStream</span>(<span class=\"string\">&#x27;streamA&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> transformStream = <span class=\"keyword\">new</span> <span class=\"title class_\">Transform</span>(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// !! æ³¨æ„å¿…é¡»objectMode: true, object-multiplexå†…éƒ¨æ˜¯ä½¿ç”¨å¯¹è±¡å½¢å¼ä¼ è¾“çš„</span></span><br><span class=\"line\">  <span class=\"attr\">objectMode</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"title function_\">transform</span>(<span class=\"params\">chunk, encoding, callback</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;transform: &#x27;</span>, chunk);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">push</span>(chunk);</span><br><span class=\"line\">    <span class=\"title function_\">callback</span>();</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ­¤æ—¶åªéœ€ç›´æ¥å¾€muxçˆ¶æµ æ·»åŠ  transformStream</span></span><br><span class=\"line\">mux.<span class=\"title function_\">pipe</span>(transformStream).<span class=\"title function_\">pipe</span>(mux);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>streamA æˆ–mux å†™å…¥æ•°æ® ä¼ ç»™ transformæµ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// mux.pipe(transformStream).pipe(mux)</span></span><br><span class=\"line\">streamA.<span class=\"title function_\">write</span>(<span class=\"string\">&#x27;streamA test&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// ç»“æœ:</span></span><br><span class=\"line\"><span class=\"comment\">// transform:  &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   name: &quot;streamA&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//   data: &quot;streamA test&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•°æ®æµå‘å¤§æ¦‚æ˜¯:</p>\n<ol>\n<li>streamAçš„<code>_write</code>è§¦å‘, å†…éƒ¨è°ƒç”¨<code>this._parent.push</code>(å³æ˜¯muxçš„pushå‡½æ•°)</li>\n<li>muxçš„_readè§¦å‘</li>\n<li>å› pipeè¿æ¥muxçš„å¯è¯»æµæ•°æ® è§¦å‘transformStreamçš„transform, transformå†…è§¦å‘this.push</li>\n<li>å› pipeè¿æ¥transformStreamçš„å¯è¯»æµæ•°æ® è§¦å‘muxçš„_write</li>\n<li>muxçš„_write å³è€Œè§¦å‘ streamAçš„ _read</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ­¤æ—¶éœ€æ”¹æˆä»¥streamA è¿æ¥ï¼Œå› ä¸ºmux.writeæ˜¯å¾€streamAçš„å¯è¯»æµæ·»åŠ æ•°æ®</span></span><br><span class=\"line\">streamA.<span class=\"title function_\">pipe</span>(transformStream).<span class=\"title function_\">pipe</span>(streamA);</span><br><span class=\"line\">mux.<span class=\"title function_\">write</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;streamA&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">data</span>: <span class=\"string\">&#x27;mux stream call streamA&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// ç»“æœ:</span></span><br><span class=\"line\"><span class=\"comment\">// transform:  mux stream call streamA</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•°æ®æµå‘å¤§æ¦‚æ˜¯:</p>\n<ol>\n<li>muxçš„<code>_write</code>è§¦å‘ï¼Œ å†…éƒ¨substreams[&#39;streamA&#39;] è§¦å‘streamAçš„pushå‡½æ•°</li>\n<li>streamAçš„_readè§¦å‘</li>\n<li>å› pipeè¿æ¥streamAçš„å¯è¯»æµæ•°æ® è§¦å‘transformStreamçš„transform, transformå†…è§¦å‘this.push</li>\n<li>å› pipeè¿æ¥transformStreamçš„å¯è¯»æµæ•°æ® è§¦å‘streamAçš„_write</li>\n<li>streamAçš„_write å³è€Œè§¦å‘streamAçš„<code>_parent</code>(å³æ˜¯mux)çš„pushå‡½æ•°,  å³è€Œè§¦å‘ muxçš„ _read</li>\n</ol>\n<p>transformæµ å†™å…¥æ•°æ® ä¼ ç»™ streamA</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// mux.pipe(transformStream).pipe(mux)</span></span><br><span class=\"line\"></span><br><span class=\"line\">transformStream.<span class=\"title function_\">write</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>:<span class=\"string\">&#x27;streamA&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">data</span>: <span class=\"string\">&#x27;transformStream test&#x27;</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„è¿™é‡Œ ä¸èƒ½ä½¿ç”¨mux.on(&#x27;data&#x27;, ...)</span></span><br><span class=\"line\"><span class=\"comment\">// ObjectMultiplex å†…éƒ¨å®ç° mux æ˜¯parentæµ ä¸å­˜å‚¨ä»»ä½•æ•°æ®</span></span><br><span class=\"line\"><span class=\"comment\">// æ‰€æœ‰æ•°æ®éƒ½æ˜¯ç”±å„å­çš„å­æµsubstream ä¸­å­˜å‚¨</span></span><br><span class=\"line\"><span class=\"comment\">// æ‰€ä»¥è¿™é‡Œå¦‚æœ mux.on(&#x27;data&#x27;, ...) æ˜¯æ°¸è¿œéƒ½ä¸ä¼šè§¦å‘çš„</span></span><br><span class=\"line\">streamA.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;data&#x27;</span>, <span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;streamA data event:&#x27;</span>, data);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç»“æœ:</span></span><br><span class=\"line\"><span class=\"comment\">// transform:  &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   name: &quot;streamA&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//   data: &quot;transformStream test&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// streamA data event: transformStream test</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•°æ®æµå‘å¤§æ¦‚æ˜¯:</p>\n<ol>\n<li>transformStreamçš„transformè§¦å‘ï¼Œtransformå†…è§¦å‘this.push</li>\n<li>å› pipeè¿æ¥muxæµï¼ŒtransformStreamçš„å¯è¯»æµæ•°æ® è§¦å‘muxæµçš„_write</li>\n<li>muxæµçš„writeè§¦å‘ å†…éƒ¨substreams[&#39;streamA&#39;] è§¦å‘streamAçš„pushå‡½æ•°</li>\n<li>ç»§è€Œ streamAçš„_readè§¦å‘</li>\n</ol>\n<h2 id=\"æºç \"><a href=\"#æºç \" class=\"headerlink\" title=\"æºç \"></a>æºç </h2><p><img src=\"/./parse-object-multiplex/1.png\" alt=\"1\" loading=\"lazy\"></p>\n<div id=\"footnotes\"><hr><div id=\"footnotelist\"><ol style=\"list-style: none; padding-left: 0; margin-left: 40px\"><li id=\"fn:1\"><span style=\"display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px\">1.</span><span style=\"display: inline-block; vertical-align: top; margin-left: 10px;\">readable-streamæ˜¯Node.jså®˜æ–¹å‡ºçš„åº“,æ—¨åœ¨æä¾›Streamsæ¨¡å—çš„å…¼å®¹æ€§å®ç°ã€‚å…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„Node.jsç‰ˆæœ¬ä¸­ä½¿ç”¨ä¸€è‡´çš„<code>StreamsAPI</code>ï¼ŒåŒæ—¶ä¹Ÿä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›æ”¯æŒ<a href=\"#fnref:1\" rev=\"footnote\"> â†©</a></span></li></ol></div></div>","categories":["æŠ€æœ¯"],"tags":["web3","chrome-extension","metamask"]},{"title":"æµ…è°ˆTorrentæ–‡ä»¶","url":"/torrent-file/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p>torrentæ–‡ä»¶å³æˆ‘ä»¬å¸¸è¯´çš„ç§å­æ–‡ä»¶ï¼Œæ˜¯ç”±<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQml0VG9ycmVudF8oJUU1JThEJThGJUU4JUFFJUFFKQ==\">BitTorrentåè®®<i class=\"fa fa-external-link-alt\"></i></span>æ‰€å®šä¹‰çš„ã€‚</p>\n<p>torrentæ–‡ä»¶æœ¬è´¨å°±æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å« trackerä¿¡æ¯å’Œæ–‡ä»¶ä¿¡æ¯ä¸¤éƒ¨åˆ†</p>\n<ul>\n<li>trackerä¿¡æ¯: è®°å½•çš„æ˜¯ BTæœåŠ¡å™¨&#x2F;TrackeræœåŠ¡å™¨&#x2F;è¿½è¸ªæœåŠ¡å™¨ ç›¸å…³ä¿¡æ¯</li>\n<li>æ–‡ä»¶ä¿¡æ¯: è®°å½•è¯¥torrentä¸­çš„ç›®æ ‡æ–‡ä»¶ç›¸å…³ä¿¡æ¯</li>\n</ul>\n<p>å¦‚æœç›´æ¥ç”¨vscodeæ‰“å¼€torrentæ–‡ä»¶æ˜¯ä¸€å †ä¹±ç çš„ï¼Œå› ä¸ºtorrentä½¿ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„ç¼–ç Bencode</p>\n<h2 id=\"Bencode\"><a href=\"#Bencode\" class=\"headerlink\" title=\"Bencode\"></a>Bencode</h2><p><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQmVuY29kZQ==\">Bencode<i class=\"fa fa-external-link-alt\"></i></span>æ˜¯ BitTorrentåè®®ä¸­ç”¨äºå­˜å‚¨å’Œä¼ è¾“æ¾æ•£ç»“æ„æ•°æ®çš„ç¼–ç æ–¹å¼</p>\n<p>Bencodeæ”¯æŒå››ç§ä¸åŒç±»å‹çš„å€¼</p>\n<ul>\n<li>byte strings  å­—èŠ‚ä¸²</li>\n<li>integers  æ•´æ•°</li>\n<li>lists  åˆ—è¡¨</li>\n<li>dictionaries  å­—å…¸</li>\n</ul>\n<h3 id=\"åŠ¨æ‰‹åšdemo\"><a href=\"#åŠ¨æ‰‹åšdemo\" class=\"headerlink\" title=\"åŠ¨æ‰‹åšdemo\"></a>åŠ¨æ‰‹åšdemo</h3><blockquote>\n<p>ä½¿ç”¨ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dlYnRvcnJlbnQvbm9kZS1iZW5jb2Rl\">node-bencode<i class=\"fa fa-external-link-alt\"></i></span>åº“</p>\n</blockquote>\n<p>ä½¿ç”¨bencodeç¼–ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> bencode <span class=\"keyword\">from</span> <span class=\"string\">&#x27;bencode&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> data = &#123;</span><br><span class=\"line\">  <span class=\"attr\">string</span>: <span class=\"string\">&#x27;Hello World&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">integer</span>: <span class=\"number\">12345</span>,</span><br><span class=\"line\">  <span class=\"attr\">dict</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">key</span>: <span class=\"string\">&#x27;This is a string within a dictionary&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">list</span>: [ <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"string\">&#x27;string&#x27;</span>, <span class=\"number\">5</span>, &#123;&#125; ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = bencode.<span class=\"title function_\">encode</span>(data)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(result).<span class=\"title function_\">toString</span>())</span><br><span class=\"line\"><span class=\"comment\">// d4:dictd3:key36:This is a string within a dictionarye7:integeri12345e4:listli1ei2ei3ei4e6:stringi5edee6:string11:Hello Worlde</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨bencodeè§£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> bencode <span class=\"keyword\">from</span> <span class=\"string\">&#x27;bencode&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> data = <span class=\"string\">&#x27;d4:dictd3:key36:This is a string within a dictionarye7:integeri12345e4:listli1ei2ei3ei4e6:stringi5edee6:string11:Hello Worlde&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = bencode.<span class=\"title function_\">decode</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(data))</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> resultUtf8 = bencode.<span class=\"title function_\">decode</span>(<span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(data), <span class=\"string\">&#x27;utf8&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(resultUtf8)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   dict: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     key: Uint8Array(36) [ 84, 104, 105, 115, 32, 105, 115, 32, 97, 32, 115, 116, 114, 105, 110, 103, 32, 119, 105, 116, 104, 105, 110, 32, 97, 32, 100, 105, 99, 116, 105, 111, 110, 97, 114, 121 ],</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   integer: 12345,</span></span><br><span class=\"line\"><span class=\"comment\">//   list: [ 1, 2, 3, 4, Uint8Array(6) [ 115, 116, 114, 105, 110, 103 ], 5, &#123;&#125; ],</span></span><br><span class=\"line\"><span class=\"comment\">//   string: Uint8Array(11) [ 72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100 ],</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   dict: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     key: &quot;This is a string within a dictionary&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//   integer: 12345,</span></span><br><span class=\"line\"><span class=\"comment\">//   list: [ 1, 2, 3, 4, &quot;string&quot;, 5, &#123;&#125; ],</span></span><br><span class=\"line\"><span class=\"comment\">//   string: &quot;Hello World&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ†æç¼–ç å†…å®¹\"><a href=\"#åˆ†æç¼–ç å†…å®¹\" class=\"headerlink\" title=\"åˆ†æç¼–ç å†…å®¹\"></a>åˆ†æç¼–ç å†…å®¹</h3><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ç¼–ç å‡ºæ¥çš„å†…å®¹</p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">d4:dictd3:key36:This is a string within a dictionarye7:integeri12345e4:listli1ei2ei3ei4e6:stringi5edee6:string11:Hello Worlde</span><br></pre></td></tr></table></figure>\n\n<p>Bencodeç¼–ç ç®—æ³•ä¸­</p>\n<ul>\n<li>integersæ•´æ•°ç±»å‹ ç¼–ç ä¸º<code>i&lt;base10 integer&gt;e</code><ul>\n<li>ä¸Šé¢<code>i12345e</code> å¯¹åº”äº† <code>integer: 12345</code>ä¸­çš„12345<ul>\n<li>æ ¼å¼åŒ–ä¸‹: <code>i 12345 e</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>byte stringså­—èŠ‚ä¸²ç±»å‹ ç¼–ç ä¸º<code>&lt;length&gt;:&lt;contents&gt;</code><ul>\n<li>ä¸Šé¢<code>7:integer</code> å¯¹åº”äº† <code>integer: 12345</code>ä¸­çš„integer<ul>\n<li>æ ¼å¼åŒ–ä¸‹: <code>7: integer</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>dictionarieså­—å…¸ç±»å‹ ç¼–ç ä¸º <code>d&lt;pairs&gt;e</code><ul>\n<li>ä¸Šé¢<code>de</code>å¯¹åº”<code>&#123;&#125;</code></li>\n<li>ä¸Šé¢ <code>d3:key36:This is a string within a dictionarye</code> å¯¹åº”<code>&#123;key: &quot;This is a string within a dictionary&quot;&#125;</code><ul>\n<li>æ ¼å¼åŒ–ä¸‹: <code>d 3:key 36:This is a string within a dictionary e</code>å…¶ä¸­ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹ <code>3:key</code>å’Œ <code>36:This is a string within a dictionary</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>listsåˆ—è¡¨ç±»å‹ ç¼–ç ä¸º<code>l&lt;elements&gt;e</code><ul>\n<li>ä¸Šé¢<code>li1ei2ei3ei4e6:stringi5edee</code> å¯¹åº”<code>[ 1, 2, 3, 4, &quot;string&quot;, 5, &#123;&#125; ]</code><ul>\n<li>æ ¼å¼åŒ–ä¸‹: <code>l i1e i2e i3e i4e 6:string i5e de e</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"torrentæ–‡ä»¶å†…å®¹\"><a href=\"#torrentæ–‡ä»¶å†…å®¹\" class=\"headerlink\" title=\"torrentæ–‡ä»¶å†…å®¹\"></a>torrentæ–‡ä»¶å†…å®¹</h2><p>ä»ä¸Šé¢å¯çŸ¥ torrentæ–‡ä»¶éœ€è¦ä½¿ç”¨bencodeç¼–ç å»è§£ç æ‰èƒ½è§£æå‡ºæ–‡ä»¶å†…å®¹</p>\n<p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dlYnRvcnJlbnQvbm9kZS1iZW5jb2Rl\">node-bencode<i class=\"fa fa-external-link-alt\"></i></span>æ¥è§£æä¸€ä¸ªtorrentæ–‡ä»¶ï¼Œæ¥çœ‹çœ‹é‡Œé¢çš„å…·ä½“å†…å®¹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fs <span class=\"keyword\">from</span> <span class=\"string\">&#x27;fs&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> bencode <span class=\"keyword\">from</span> <span class=\"string\">&#x27;bencode&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">fs.<span class=\"title function_\">readFile</span>(<span class=\"string\">&#x27;./test.torrent&#x27;</span>, <span class=\"function\">(<span class=\"params\">err, data</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = bencode.<span class=\"title function_\">decode</span>(data, <span class=\"string\">&#x27;utf8&#x27;</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(result, <span class=\"literal\">null</span>, <span class=\"number\">2</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¾“å‡ºç»“æœ</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   &quot;announce-list&quot;: [</span></span><br><span class=\"line\"><span class=\"comment\">//     [</span></span><br><span class=\"line\"><span class=\"comment\">//       &quot;http://p4p.arenabg.com:1337/announce&quot;</span></span><br><span class=\"line\"><span class=\"comment\">//     ],</span></span><br><span class=\"line\"><span class=\"comment\">//     [</span></span><br><span class=\"line\"><span class=\"comment\">//       &quot;udp://47.ip-51-68-199.eu:6969/announce&quot;</span></span><br><span class=\"line\"><span class=\"comment\">//     ],</span></span><br><span class=\"line\"><span class=\"comment\">//     ...</span></span><br><span class=\"line\"><span class=\"comment\">//   ],</span></span><br><span class=\"line\"><span class=\"comment\">//   &quot;info&quot;: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     &quot;files&quot;: [</span></span><br><span class=\"line\"><span class=\"comment\">//       &#123; &quot;length&quot;: 601, &quot;path&quot;: [&quot;Code.txt&quot;] &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//       &#123; &quot;length&quot;: 50, &quot;path&quot;: [&quot;SeeHD.WS.txt&quot;] &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//       &#123; &quot;length&quot;: 38, &quot;path&quot;: [&quot;Torrent Downloaded From ProstyleX.com.txt&quot; ] &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//       &#123; &quot;length&quot;: 3135215904, &quot;path&quot;: [&quot;WwW.SeeHD.PL__Overlord 2018 1080p PROPER WEB-DL X264 5.1-SeeHD.mkv&quot;] &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//     ],</span></span><br><span class=\"line\"><span class=\"comment\">//     &quot;name&quot;: &quot;Overlord 2018 1080p PROPER WEB-DL X264 5.1-SeeHD&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//     &quot;piece length&quot;: 262144,</span></span><br><span class=\"line\"><span class=\"comment\">//     &quot;pieces&quot;: &lt;binary SHA1 hashes&gt; // &quot;xxxä¸€äº›ä¹±ç &quot;</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢è¾“å‡ºçš„ç»“æœä¸­</p>\n<ul>\n<li>announce-listçš„å†…å®¹ å°±æ˜¯å¯¹åº”çš„æ–‡ç« å¼€å¤´è¯´çš„ trackerä¿¡æ¯</li>\n<li>infoçš„å†…å®¹ å¯¹åº”çš„å°±æ˜¯ æ–‡ä»¶ä¿¡æ¯</li>\n</ul>\n<p>ä¸€èˆ¬ç§å­æ–‡ä»¶å¯èƒ½çš„å­—æ®µå’Œå…¶å«ä¹‰:</p>\n<ul>\n<li>trackerä¿¡æ¯<ul>\n<li>announce: è¿½è¸ªæœåŠ¡å™¨çš„URL</li>\n<li>announce-list: BitTorrentè§„èŒƒä¸­çš„<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5iaXR0b3JyZW50Lm9yZy9iZXBzL2JlcF8wMDEyLmh0bWw=\">BEP-0012<i class=\"fa fa-external-link-alt\"></i></span>æ‰©å±•æ”¯æŒå¤šä¸ªè¿½è¸ªå™¨</li>\n</ul>\n</li>\n<li>æ–‡ä»¶ä¿¡æ¯<ul>\n<li><code>info.name</code>: å»ºè®®ä¿å­˜æ–‡ä»¶çš„ç›®å½•åç§°</li>\n<li><code>info.files</code>: ç§å­ä¸­çš„æ–‡ä»¶ï¼Œ æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªç›®å½•åæˆ–æ–‡ä»¶åã€‚</li>\n<li><code>info[&quot;piece length&quot;]</code>: æ¯ä¸ªç‰‡æ®µ&#x2F;æ–‡ä»¶å—çš„é•¿åº¦</li>\n<li><code>info.pieces</code>ï¼š å®é™…æ¯ä¸ªæ–‡ä»¶å—çš„SHA-1 æ‰€é›†æˆçš„Hash<ul>\n<li>å¯ä»¥æŠ½è±¡çš„æƒ³è±¡ä¸€äº› <code>info.pieces</code>å¤§æ¦‚å†…å®¹(ps: <code>Piece 1:</code>æ˜¯ä¸å­˜åœ¨çš„):<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">Piece 1: a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8g9h0</span><br><span class=\"line\">Piece 2: f1e2d3c4b5a6f7e8d9c0b1a2f3e4d5c6b7a8c9d0</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></li>\n<li>pieces å­—æ®µçš„ä½œç”¨æ˜¯<strong>ç”¨äºæ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒ</strong>ï¼Œç¡®ä¿ä¸‹è½½è¿‡ç¨‹ä¸­ä¼ è¾“çš„æ•°æ®å—æ²¡æœ‰è¢«ç¯¡æ”¹æˆ–æŸå</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"info-hash\"><a href=\"#info-hash\" class=\"headerlink\" title=\"info_hash\"></a>info_hash</h3><p>info_hash æ˜¯<strong>ç§å­æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦</strong>ï¼Œå®ƒæ˜¯ <code>.torrent</code> æ–‡ä»¶ä¸­ info éƒ¨åˆ†çš„å“ˆå¸Œå€¼</p>\n<p>ä»torrentè·å–info_hash, å¯¹ info éƒ¨åˆ†è¿›è¡Œ Bencode ç¼–ç åè®¡ç®— SHA-1 å“ˆå¸Œå€¼ï¼Œå¾—åˆ° info_hashã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¼ªä»£ç </span></span><br><span class=\"line\">info_hash = <span class=\"title function_\">sha1</span>(bencode.<span class=\"title function_\">encode</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">info</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">files</span>: [</span><br><span class=\"line\">        &#123; <span class=\"attr\">length</span>: <span class=\"number\">615</span>,    <span class=\"attr\">path</span>: [<span class=\"string\">&quot;free audiobook verison.txt&quot;</span>] &#125;,</span><br><span class=\"line\">        &#123; <span class=\"attr\">length</span>: <span class=\"number\">393417</span>, <span class=\"attr\">path</span>: [<span class=\"string\">&quot;Warcraft_ Official Movie Novelization by Christie Golden.epub&quot;</span>] &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;Warcraft_ Official Movie Novelization by Christie Golden EPUB&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;piece length&quot;</span>: <span class=\"number\">10485765</span>,</span><br><span class=\"line\">    <span class=\"attr\">pieces</span>: xxx</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"TrackeræœåŠ¡å™¨\"><a href=\"#TrackeræœåŠ¡å™¨\" class=\"headerlink\" title=\"TrackeræœåŠ¡å™¨\"></a>TrackeræœåŠ¡å™¨</h2><p>TrackeræœåŠ¡å™¨æ˜¯<strong>å¸®åŠ©BitTorrentåè®®åœ¨ èŠ‚ç‚¹ä¸èŠ‚ç‚¹ä¹‹é—´ åšè¿æ¥</strong>çš„æœåŠ¡å™¨(è¿™é‡Œçš„èŠ‚ç‚¹æŒ‡çš„ç”¨æˆ·ä¸ç”¨æˆ·é—´)</p>\n<div class=\"markdown-alert markdown-alert-tip\">\n<p class=\"markdown-alert-title\"><svg class=\"octicon octicon-light-bulb mr-2\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z\"></path></svg>Tip</p>\n<p>P2Pæœ€ç»ˆçš„æ–‡ä»¶èµ„æºè¿˜æ˜¯å­˜å‚¨åœ¨ç”¨æˆ·ï¼Œä¸å­˜åœ¨ä¸€ä¸ªä¸­å¿ƒåŒ–çš„æœåŠ¡å™¨å»å­˜å‚¨èµ„æº!!<br>èµ„æºä¸‹è½½å‘ç”Ÿåœ¨ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´</p>\n</div>\n<p><img src=\"/torrent-file/tracker-server.png\" alt=\"tracker-server\" loading=\"lazy\"></p>\n<p>Btä¸‹è½½å™¨(è¿…é›·ä¹‹ç±»çš„è½¯ä»¶)ä¸€å¼€å§‹å°±è¦è¿æ¥åˆ°Trackerï¼Œä»Trackerè·å¾—å…¶ä»–ç”¨æˆ·çš„å®¢æˆ·ç«¯IPåœ°å€(Peers)åï¼Œæ‰èƒ½è¿æ¥åˆ°å…¶ä»–å®¢æˆ·ç«¯ä¸‹è½½ã€‚<br>åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šä¸€ç›´ä¸Trackeré€šä¿¡ï¼Œä¸Šä¼ è‡ªå·±çš„ä¿¡æ¯ï¼Œè·å–å…¶å®ƒå®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚</p>\n<p>ä¸¾ä¸ªæ —å­</p>\n<p>ä¾‹å¦‚BTæœåŠ¡å™¨å°†ä¸€ä¸ªæ–‡ä»¶åˆ†æˆäº†Nä¸ªéƒ¨åˆ†ï¼Œæœ‰ç”²ã€ä¹™ã€ä¸™ã€ä¸å››ä½ç”¨æˆ·åŒæ—¶ä¸‹è½½ï¼Œé‚£ä¹ˆBTå¹¶ä¸ä¼šå®Œå…¨ä»æœåŠ¡å™¨ä¸‹è½½è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰éƒ¨åˆ†ï¼Œè€Œæ˜¯æ ¹æ®å®é™…æƒ…å†µæœ‰é€‰æ‹©åœ°ä»å…¶ä»–ç”¨æˆ·çš„æœºå™¨ä¸­ä¸‹è½½å·²ä¸‹è½½å®Œæˆçš„éƒ¨åˆ†ã€‚</p>\n<p>ä¾‹å¦‚ç”²å·²ç»ä¸‹è½½äº†ç¬¬1éƒ¨åˆ†ï¼Œä¹™å·²ç»ä¸‹è½½äº†ç¬¬2éƒ¨åˆ†ï¼Œé‚£ä¹ˆä¸™å°±ä¼šä»ç”²çš„æœºå™¨ä¸­ä¸‹è½½ç¬¬1éƒ¨åˆ†ï¼Œä»ä¹™çš„æœºå™¨ä¸­ä¸‹è½½ç¬¬2éƒ¨åˆ†ï¼Œå½“ç„¶ç”²ã€ä¹™ã€ä¸ä¸‰ä½ç”¨æˆ·ä¹Ÿåœ¨åŒæ—¶ä»ä¸™çš„æœºå™¨ä¸­ä¸‹è½½ç›¸åº”çš„éƒ¨åˆ†ï¼Œè¿™å°±å¤§å¤§å‡è½»äº†BTæœåŠ¡å™¨çš„è´Ÿè·ï¼Œä¹ŸåŒæ—¶åŠ å¿«äº†ä¸™çš„ä¸‹è½½é€Ÿåº¦ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å°å‚åŠ ä¸‹è½½çš„è®¡ç®—æœºæ—¢ä»å…¶ä»–ç”¨æˆ·çš„è®¡ç®—æœºä¸Šä¸‹è½½æ–‡ä»¶ï¼ŒåŒæ—¶è‡ªèº«ä¹Ÿå‘å…¶ä»–ç”¨æˆ·æä¾›ä¸‹è½½ï¼Œå› æ­¤å‚ä¸<strong>ä¸‹è½½çš„ç”¨æˆ·æ•°é‡è¶Šå¤šï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿè¶Šé«˜</strong>ã€‚</p>\n<p>è¿™é‡Œæœ‰ä¸ªé—®é¢˜ ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´æ€ä¹ˆçŸ¥é“å¯¹æ–¹æœ‰å“ªéƒ¨åˆ†æ–‡ä»¶å’Œå¯¹æ–¹çš„ipåœ°å€å‘¢ï¼Œè¿™å°±æ˜¯Trackerèµ·åˆ°çš„ä½œç”¨</p>\n<!-- åœ¨ P2P ä¸‹è½½ä¸­ï¼Œæ•°æ®ä»å¤šä¸ªèŠ‚ç‚¹åˆ†å—ä¸‹è½½ï¼Œå¯èƒ½ä¼šå› ä¸ºä¼ è¾“é”™è¯¯ã€æ¶æ„èŠ‚ç‚¹ç­‰åŸå› å¯¼è‡´æ•°æ®æŸåã€‚\n\nä¸‹è½½å®Œæˆåï¼Œå®¢æˆ·ç«¯ä¼šå¯¹æ¯ä¸ªå—é‡æ–°è®¡ç®— SHA-1 å“ˆå¸Œå€¼ï¼Œå¹¶ä¸`pieces` å­—æ®µä¸­å¯¹åº”çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒï¼š\n- å¦‚æœåŒ¹é…ï¼Œåˆ™æ•°æ®å—å®Œæ•´ã€‚\n- å¦‚æœä¸åŒ¹é…ï¼Œåˆ™ä¸¢å¼ƒæŸåçš„æ•°æ®å—å¹¶é‡æ–°ä¸‹è½½ã€‚ -->\n\n<h2 id=\"DHTåˆ†å¸ƒå¼å“ˆå¸Œè¡¨\"><a href=\"#DHTåˆ†å¸ƒå¼å“ˆå¸Œè¡¨\" class=\"headerlink\" title=\"DHTåˆ†å¸ƒå¼å“ˆå¸Œè¡¨\"></a>DHTåˆ†å¸ƒå¼å“ˆå¸Œè¡¨</h2><p>å¦‚æœTrackeræœåŠ¡ä¸å·¥ä½œæˆ–è€…å°ç¦äº†æ€ä¹ˆåŠï¼Ÿ</p>\n<p>DHT ç½‘ç»œï¼ˆDistributed Hash Tableåˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼‰æ˜¯ BitTorrent åè®®çš„ä¸€ç§å»ä¸­å¿ƒåŒ–æŠ€æœ¯ï¼Œå®ƒå…è®¸åœ¨æ²¡æœ‰ Tracker æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯é€šè¿‡ P2P ç½‘ç»œæ‰¾åˆ°å…¶ä»–ä¸‹è½½èŠ‚ç‚¹ï¼ˆPeersï¼‰</p>\n<blockquote>\n<p>DHT å¯ä»¥ä¸ .torrent æ–‡ä»¶æˆ– ç£åŠ›é“¾æ¥(Magnet Link)ä¸€èµ·å·¥ä½œï¼Œé€‚åº”å¤šç§åœºæ™¯</p>\n</blockquote>\n<p>æ”¯æŒDHTçš„å®¢æˆ·ç«¯(å³è¿…é›·ï¼Œç”µé©´è¿™äº›å®¢æˆ·ç«¯)å¯ä»¥åœ¨ Trackerä¸å¯ç”¨æ—¶é€šè¿‡ DHTç½‘ç»œæŸ¥æ‰¾ Peer(ç”¨æˆ·çš„èŠ‚ç‚¹)</p>\n<blockquote>\n<p>ps: å‰ææ˜¯éœ€è¦å®¢æˆ·ç«¯(å³è¿…é›·ï¼Œç”µé©´è¿™äº›å®¢æˆ·ç«¯)æ”¯æŒ</p>\n</blockquote>\n<p>å¤§æ¦‚åŸç†</p>\n<ul>\n<li>åŠ å…¥DHTç½‘ç»œ(å¯èƒ½å°±æ˜¯æ‰“å¼€è½¯ä»¶æ—¶)<ul>\n<li>å®¢æˆ·ç«¯æˆä¸ºDHTç½‘ç»œä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹</li>\n<li>æ¯ä¸ª DHT èŠ‚ç‚¹éƒ½ç»´æŠ¤ä¸€éƒ¨åˆ†å“ˆå¸Œè¡¨ï¼Œç”¨äºå­˜å‚¨ç§å­ä¿¡æ¯ï¼ˆinfo_hashï¼‰å’Œä¸ä¹‹ç›¸å…³çš„ Peer ä¿¡æ¯</li>\n</ul>\n</li>\n<li>å­˜å‚¨å’ŒæŸ¥è¯¢æ•°æ®<ul>\n<li>å­˜å‚¨ï¼šå½“å®¢æˆ·ç«¯æ‹¥æœ‰ä¸€ä¸ªç§å­ï¼ˆæˆ–ä¸‹è½½ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼‰æ—¶ï¼Œå®ƒä¼šå°†è‡ªå·±çš„åœ°å€ï¼ˆIP å’Œç«¯å£ï¼‰ä¸ç§å­çš„ info_hash ç»‘å®šï¼Œå¹¶<strong>é€šè¿‡DHTåè®®å¹¿æ’­åˆ°ç½‘ç»œ</strong>ã€‚</li>\n<li>æŸ¥è¯¢ï¼šå½“å®¢æˆ·ç«¯éœ€è¦ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œå®ƒä¼šå°†ç§å­çš„ info_hash å‘é€åˆ° DHT ç½‘ç»œï¼Œå¯»æ‰¾æ‹¥æœ‰è¯¥ç§å­çš„ Peer åˆ—è¡¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>æ‰€ä»¥å½“æ²¡æœ‰TrackeræœåŠ¡æ—¶ï¼Œé æŠŠinfo_hash å¹¿æ’­åˆ°DHTç½‘ç»œä¸­ æ‰¾åˆ°å¯¹åº”çš„ PeerèŠ‚ç‚¹(å³åˆ«çš„ç”¨æˆ·çš„ç”µè„‘) å»ä¸‹è½½ï¼Œä»£æ›¿äº†åŸæœ¬Trackerçš„åŠŸèƒ½</p>\n</blockquote>\n<h2 id=\"å¤§æ¦‚çš„ä¸‹è½½æµç¨‹\"><a href=\"#å¤§æ¦‚çš„ä¸‹è½½æµç¨‹\" class=\"headerlink\" title=\"å¤§æ¦‚çš„ä¸‹è½½æµç¨‹\"></a>å¤§æ¦‚çš„ä¸‹è½½æµç¨‹</h2><ol>\n<li>è§£æ .torrent æ–‡ä»¶</li>\n<li>ä¸trackeræœåŠ¡å»ºç«‹é“¾æ¥ï¼Œå‘é€è¯·æ±‚ä»¥è·å– Peers åˆ—è¡¨(è¿™ä¸ªåˆ—è¡¨å°±æ˜¯å…¶ä»–clientçš„èŠ‚ç‚¹ipå’Œç«¯å£)</li>\n<li>è¯·æ±‚Peers, ä¸‹è½½ Piece(æ–‡ä»¶ç‰‡æ®µ)ï¼Œæ ¹æ® pieces å­—æ®µæ ¡éªŒ Piece çš„æœ‰æ•ˆæ€§</li>\n<li>ç»„è£… Pieceç‰‡æ®µï¼Œå¾—åˆ°å®Œæ•´çš„æ–‡ä»¶</li>\n</ol>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3poLWNuLyVFNyVBNyU4RCVFNSVBRCU5MCVFNiU5NiU4NyVFNCVCQiVCNg==\">Torrent_fileç»´åŸº<i class=\"fa fa-external-link-alt\"></i></span>&#x2F;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVG9ycmVudF9maWxlI0V4YW1wbGVz\">Torrent_fileç»´åŸº(enç‰ˆæ›´è¯¦ç»†)<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQmVuY29kZQ==\">Bencodeç»´åŸº<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQml0VG9ycmVudF90cmFja2Vy\">Trackerç»´åŸº<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JTg4JTg2JUU2JTk1JUEzJUU1JUJDJThGJUU5JTlCJTlDJUU2JUI5JThBJUU4JUExJUE4\">DHTåˆ†å¸ƒå¼è¡¨<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dlYnRvcnJlbnQvbm9kZS1iZW5jb2Rl\">node-bencodeåº“<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>â­ï¸<span class=\"exturl\" data-url=\"aHR0cHM6Ly9janRpbmcubWUvMjAyMC8xMC8zMS90aW55dG9ycmVudC1hLWRlbm8tYnQtZG93bmxvYWRlci8=\">tinyTorrent: ä»å¤´å†™ä¸€ä¸ª Deno çš„ BitTorrent ä¸‹è½½å™¨<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI5NzU3MjgzL2FydGljbGUvZGV0YWlscy85NDQ1MDk4MA==\">https://blog.csdn.net/qq_29757283/article/details/94450980<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li>â­ï¸<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81NTEzMzcxMjg=\">ä¸€æ–‡è¯»æ‡‚Btç§å­ã€ç£åŠ›é“¾æ¥ã€ç›´é“¾ã€p2pè¿™äº›ä¸‹è½½çš„åŒºåˆ«<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n<!-- BitTorrentçš„P2Pä¸‹è½½æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ\nè¦åšåˆ°P2Pä¸‹è½½é¦–å…ˆéœ€è¦è§£å†³å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š\n\n1ã€ å¦‚ä½•çŸ¥é“å“ªäº›Clientåœ¨ä¸‹è½½åŒä¸€ä¸ªæ–‡ä»¶ï¼Ÿ\n\n2ã€ å¯¹æŸä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚ä½•åšåˆ°åŒæ—¶ä»å¤šä¸ªæ¥æºè¿›è¡Œä¸‹è½½ï¼Ÿ\n\nå¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š\n\nè®¾è®¡ä¸€ä¸ªTrackerServerï¼ˆè·Ÿè¸ªæœåŠ¡å™¨ï¼‰ï¼Œæ¯ä¸€ä¸ªClientéœ€è¦å»è¿™é‡Œä¸ŠæŠ¥è‡ªå·±æ­£åœ¨ä¸‹è½½çš„æ–‡ä»¶ä»¥åŠè‡ªå·±çš„ipåœ°å€å’Œç›‘å¬çš„ç«¯å£ã€‚æ–°æ¥çš„Clientå…ˆè¦è¿æ¥åˆ°TrackerServerï¼Œæ ¹æ®è¦ä¸‹è½½çš„æ–‡ä»¶æŸ¥è¯¢å½“å‰æ­£åœ¨ä¸‹è½½è¿™ä¸ªæ–‡ä»¶çš„Clients (Peers)ã€‚\n\nå¯¹äºç¬¬äºŒä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•ï¼š\n\nClientä»TrackerServerè·å–Peersåï¼Œåˆ†åˆ«å‘ä»–ä»¬å‘èµ·è¿æ¥å¹¶è¯¢é—®å½“å‰çš„ä¸‹è½½è¿›åº¦ï¼Œç„¶åï¼ŒåŒæ—¶è¿æ¥å¤šä¸ªPeersåˆ†åˆ«ä¸‹è½½ä»–ä»¬å·²å®Œæˆçš„æ–‡ä»¶ç‰‡æ®µï¼Œæœ€åæ‹¼æ¥å‡ºå®Œæ•´çš„æ–‡ä»¶ã€‚\n -->\n\n\n<!--\n1ã€é‚£ä¹ˆæˆ‘ä½¿ç”¨è¿…é›·æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªpeer,è¢«è¿«ç»™åˆ«çš„ä¸‹è½½çš„peerä¼ è¾“èµ„æºï¼Ÿ\n  - è¿™è¦çœ‹è¿…é›·çš„å®ç°ï¼Œä¸‹è½½å’Œä¸Šä¼ çš„é€»è¾‘ç”±å®¢æˆ·ç«¯æ§åˆ¶ã€‚æ¯”å¦‚ tinyTorrent å°±åªä¸‹è½½ä¸ä¸Šä¼ ã€‚å¯ä»¥ä½¿ç”¨ä¸€äº› BT è½¯ä»¶æ¯”å¦‚ uTorrentã€‚\n2ã€å¦‚ä½•æŠŠæˆ‘æœ¬åœ°ä¸€ä¸ªèµ„æºåšæˆç§å­å‘¢ï¼Ÿåˆ¶ä½œæˆåŠŸäº†ï¼Œå‘ç»™åˆ«äººæˆ‘ç”µè„‘å…³æœºäº†æˆ–è€…èµ„æºåˆ é™¤äº†ï¼Œæ„æ€å°±åˆ«äººæ— æ³•ä¸‹è½½äº†å—ï¼Ÿ\n  - å¦‚æœåªæœ‰ä½ ä¸€ä¸ªäººåšç§ï¼Œé‚£ä¹ˆæ˜¯çš„ï¼Œä½ ä¸‹çº¿äº†è‡ªç„¶å°±æ— æ³•ä¸‹è½½äº†ã€‚\n-->\n\n\n<!--\nè¦åšåˆ°P2Pä¸‹è½½é¦–å…ˆéœ€è¦è§£å†³å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š\n\n1ã€ å¦‚ä½•çŸ¥é“å“ªäº›Clientåœ¨ä¸‹è½½åŒä¸€ä¸ªæ–‡ä»¶ï¼Ÿ\n2ã€ å¯¹æŸä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚ä½•åšåˆ°åŒæ—¶ä»å¤šä¸ªæ¥æºè¿›è¡Œä¸‹è½½ï¼Ÿ\nå¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š\nè®¾è®¡ä¸€ä¸ªTrackerServerï¼ˆè·Ÿè¸ªæœåŠ¡å™¨ï¼‰ï¼Œæ¯ä¸€ä¸ªClientéœ€è¦å»è¿™é‡Œä¸ŠæŠ¥è‡ªå·±æ­£åœ¨ä¸‹è½½çš„æ–‡ä»¶ä»¥åŠè‡ªå·±çš„ipåœ°å€å’Œç›‘å¬çš„ç«¯å£ã€‚æ–°æ¥çš„Clientå…ˆè¦è¿æ¥åˆ°TrackerServerï¼Œæ ¹æ®è¦ä¸‹è½½çš„æ–‡ä»¶æŸ¥è¯¢å½“å‰æ­£åœ¨ä¸‹è½½è¿™ä¸ªæ–‡ä»¶çš„Clients (Peers)ã€‚\nå¯¹äºç¬¬äºŒä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•ï¼š\nClientä»TrackerServerè·å–Peersåï¼Œåˆ†åˆ«å‘ä»–ä»¬å‘èµ·è¿æ¥å¹¶è¯¢é—®å½“å‰çš„ä¸‹è½½è¿›åº¦ï¼Œç„¶åï¼ŒåŒæ—¶è¿æ¥å¤šä¸ªPeersåˆ†åˆ«ä¸‹è½½ä»–ä»¬å·²å®Œæˆçš„æ–‡ä»¶ç‰‡æ®µï¼Œæœ€åæ‹¼æ¥å‡ºå®Œæ•´çš„æ–‡ä»¶ã€‚\n-->\n","categories":["æŠ€æœ¯"],"tags":["ç§‘æ™®","p2p"]},{"title":"ç½‘ç«™åœ°å›¾(sitemap)","url":"/sitemap/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p>ç«™ç‚¹åœ°å›¾ï¼ˆSitemapï¼‰æè¿°äº†ç½‘ç«™çš„æ¶æ„ã€‚ å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªä»»æ„å½¢å¼çš„æ–‡æ¡£(xml&#x2F;html)ï¼Œæ˜¯åˆ—å‡ºç½‘ç«™ä¸­æ‰€æœ‰é¡µé¢çš„ä¸€ä¸ªç½‘é¡µã€‚</p>\n<p>æœ‰åŠ©äºè®¿é—®è€…ä»¥åŠæœç´¢å¼•æ“çš„çˆ¬è™«æ‰¾åˆ°ç½‘ç«™ä¸­çš„é¡µé¢(å¯¹seoæœ‰åˆ©)ã€‚</p>\n<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¹Ÿå°±æ˜¯ <code>https://domain.com/sitemap.xml</code></p>\n<h2 id=\"æ ¼å¼\"><a href=\"#æ ¼å¼\" class=\"headerlink\" title=\"æ ¼å¼\"></a>æ ¼å¼</h2><p>ç½‘ç«™åœ°å›¾å¯ä»¥æœ‰å¤šç§æ ¼å¼ XMLæ–‡ä»¶ï¼ˆsitemap.xmlï¼‰ã€HTMLæ–‡ä»¶(sitemap.html)ã€TXTæ–‡ä»¶(sitemap.txt)æˆ–RSSæ–‡ä»¶(rss.xml)ï¼Œ</p>\n<p>é€šå¸¸æ˜¯åˆ†çº§çš„XMLç»“æ„</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;UTF-8&#x27;?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sitemapindex</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&#x27;http://www.sitemaps.org/schemas/sitemap/0.9&#x27;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://www.youtube.com/ads/sitemap.xml<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://www.youtube.com/sitemaps/misc.xml<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://www.youtube.com/kids/sitemap.xml<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://www.youtube.com/trends/sitemap.xml<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">sitemap</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">sitemapindex</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚ä¸Šé¢ ä»é¦–é¡µçš„<code>sitemap.xml</code>æŒ‡å‘äº†å­æ¨¡å—ä¸­çš„å¤šä¸ª<code>sitemap.xml</code></p>\n<h2 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h2><ul>\n<li>bç«™çš„sitemap: <code>https://www.bilibili.com/sitemap.xml</code></li>\n<li>githubçš„sitemap(ä»¥htmlçš„æ ¼å¼): <code>https://github.com/sitemap</code></li>\n<li>youtubeçš„sitemap: <code>https://www.youtube.com/sitemaps/sitemap.xml</code></li>\n<li>hexoçš„sitemap: <code>https://hexo.io/sitemap.xml</code><ul>\n<li>hexoç”Ÿæˆsitemapçš„æ’ä»¶ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWdlbmVyYXRvci1zaXRlbWFw\">hexo-generator-sitemap<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n</li>\n</ul>\n","categories":["æŠ€æœ¯"],"tags":["ç§‘æ™®","seo"]},{"title":"æ±‰æ˜ç  Hamming Code","url":"/hamming-code/","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><p>æ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®ä¸¢å¤±æˆ–è€…äººä¸ºå¹²æ‰°æ—¶å°±å¯èƒ½ä¼šå‡ºç°<code>æ•°æ®æ¥æ”¶è€…</code>æ¥æ”¶åˆ°çš„æ•°æ®å‡ºç°å·®é”™</p>\n<p>ä¸ºäº†ä¿è¯çš„æ•°æ®çš„å®Œæ•´æ€§æˆ–é”™è¯¯çº æ­£æœ‰å‡ ç§è§£å†³æ–¹æ¡ˆ:</p>\n<ul>\n<li>é”™è¯¯æ£€æµ‹æ–¹æ¡ˆ: å¥‡å¶æ ¡éªŒ(åªèƒ½æ£€æµ‹å¥‡æ•°ä½é”™è¯¯)ã€æ ¡éªŒå’Œ(checksum)ã€å¾ªç¯å†—ä½™æ ¡éªŒ(CRC)ã€å“ˆå¸Œ...</li>\n<li>é”™è¯¯æ£€æµ‹+çº é”™çš„æ–¹æ¡ˆ: æ±‰æ˜ç (å•bité”™è¯¯æ£€æµ‹å’Œçº æ­£)ã€BCHç (å¤šbité”™è¯¯æ£€æµ‹å’Œçº æ­£)...</li>\n</ul>\n<p>æ±‰æ˜ç æ˜¯ä¸€ç§ç”¨äºæ£€æµ‹å’Œçº æ­£<strong>å•æ¯”ç‰¹</strong>é”™è¯¯çš„ç¼–ç æŠ€æœ¯</p>\n<h2 id=\"ç¼–ç æ­¥éª¤\"><a href=\"#ç¼–ç æ­¥éª¤\" class=\"headerlink\" title=\"ç¼–ç æ­¥éª¤\"></a>ç¼–ç æ­¥éª¤</h2><ol>\n<li><p>å…ˆè®¡ç®—å‡º æ±‰æ˜ç çš„é•¿åº¦</p>\n<p> å…¬å¼ä¸º $2^k &gt;&#x3D; N + k + 1$å…¶ä¸­ Nä¸ºæ•°æ®é•¿åº¦ï¼Œ kä¸º æ±‰æ˜ç çš„é•¿åº¦</p>\n</li>\n<li><p>æ ¹æ®é•¿åº¦å¡«å…¥åŸæ•°æ®ï¼Œå†—ä½™ä½ç•™ç©º</p>\n<p> å†—ä½™ä½å³æ±‰æ˜ç è¦å¡«å…¥2çš„å¹‚æ¬¡ä½ç½®ï¼Œæ‰€ä»¥ 1($2^0$)ã€2($2^1$)ã€4($2^2$)ã€8($2^3$)...æ ¼è¦ç•™ç©º</p>\n</li>\n<li><p>è®¡ç®—å†—ä½™ä½çš„å€¼  <!-- æ±‚æ±‰æ˜ç  --></p>\n<ol>\n<li>æ ¹æ®<strong>åŸæ•°æ®ä¸­bitä¸º1çš„æ¯ä¸€ä½æ‰€åœ¨çš„ç´¢å¼•ä½ç½®</strong>(ä»å·¦å¾€å³ä»1å¼€å§‹), è®¡ç®—å‡ºå¯¹åº”çš„äºŒè¿›åˆ¶å€¼</li>\n<li>æ ¹æ®äºŒè¿›åˆ¶å€¼åšXOR(å¼‚æˆ–)è¿ç®—å¾—å‡º å†—ä½™ä½è¯¥å¡«å…¥çš„å€¼, å¾—åˆ°çš„äºŒè¿›åˆ¶æ•°<strong>ä»å³å¾€å·¦</strong>å¡«å……å…¥å†—ä½™ä½</li>\n</ol>\n</li>\n<li><p>å†—ä½™ä½ä¸æ•°æ®åŸå€¼åˆå¹¶å¾—åˆ°æœ€åç¼–ç ç»“æœ</p>\n</li>\n</ol>\n<h2 id=\"ä¾‹å­\"><a href=\"#ä¾‹å­\" class=\"headerlink\" title=\"ä¾‹å­\"></a>ä¾‹å­</h2><p>è®¡ç®—åŸæ•°æ®<code>10101111</code>çš„æ±‰æ˜ç </p>\n<ol>\n<li><p>è®¡ç®—æ±‰æ˜ç çš„é•¿åº¦ $2^k &gt;&#x3D; 8 + k + 1$ å¾—åˆ°k&#x3D;4 æ»¡è¶³æ¡ä»¶(å…¶ä¸­8ä¸º<code>10101111</code>çš„é•¿åº¦)</p>\n<p> æ‰€ä»¥æœ‰4ä¸ªå†—ä½™ä½, æ±‰æ˜ç çš„é•¿åº¦ <code>4 + 8 = 12</code></p>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n<th>6</th>\n<th>7</th>\n<th>8</th>\n<th>9</th>\n<th>10</th>\n<th>11</th>\n<th>12</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>&nbsp;</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>æ¥ç€å†å°†åŸæ•°æ®çš„å€¼å¡«å…¥è¡¨æ ¼</p>\n<p> <strong>é‡ç‚¹</strong>: æ±‰æ˜ç è¦å¡«åœ¨2çš„å¹‚æ¬¡çš„ä½ç½®, æ‰€ä»¥ 1($2^0$)ã€2($2^1$)ã€4($2^2$)ã€8($2^3$)æ ¼è¦ç•™ç©º</p>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n<th>6</th>\n<th>7</th>\n<th>8</th>\n<th>9</th>\n<th>10</th>\n<th>11</th>\n<th>12</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody></table>\n</li>\n<li><p>è®¡ç®—å‡ºå†—ä½™ä½çš„å€¼</p>\n<ol>\n<li>æ ¹æ®åŸå€¼ç´¢å¼•è½¬åŒ–å‡ºå¯¹åº”äºŒè¿›åˆ¶</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n<th>6</th>\n<th>7</th>\n<th>8</th>\n<th>9</th>\n<th>10</th>\n<th>11</th>\n<th>12</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td>1</td>\n<td></td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td></td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>3 &#x3D;&gt; 0011</td>\n<td></td>\n<td></td>\n<td>6 &#x3D;&gt;0110</td>\n<td></td>\n<td></td>\n<td>9 &#x3D;&gt; 1001</td>\n<td>10 &#x3D;&gt; 1010</td>\n<td>11 &#x3D;&gt;  1011</td>\n<td>12 &#x3D;&gt; 1100</td>\n</tr>\n</tbody></table>\n<ol start=\"2\">\n<li>æ ¹æ®å¾—åˆ°çš„äºŒè¿›åˆ¶æ•°æ‰§è¡ŒXORå¼‚æˆ–è¿ç®—<br> <code>0b0011 ^ 0b0110 ^ 0b1001 ^ 0b1010 ^ 0b1011 ^ 0b1100 = 0b0001</code></li>\n</ol>\n <figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">   | 8 4 2 1</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">3  | 0 0 1 1</span><br><span class=\"line\">6  | 0 1 1 0</span><br><span class=\"line\">9  | 1 0 0 1</span><br><span class=\"line\">10 | 1 0 1 0</span><br><span class=\"line\">11 | 1 0 1 1</span><br><span class=\"line\">12 | 1 1 0 0</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">XOR| 0 0 0 1</span><br><span class=\"line\"></span><br><span class=\"line\">å¯¹åº” å¾—å‡º ç´¢å¼•1å¡«å…¥1, ç´¢å¼•2å¡«å…¥0, ç´¢å¼•4å¡«å…¥0 ç´¢å¼•8å¡«å…¥0</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å¡«å…¥å†—ä½™ä½ä¸æ•°æ®åŸå€¼ç»„åˆå¾—å‡ºæœ€ç»ˆçš„ç¼–ç  <code>101001001111</code></p>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n<th>6</th>\n<th>7</th>\n<th>8</th>\n<th>9</th>\n<th>10</th>\n<th>11</th>\n<th>12</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody></table>\n</li>\n</ol>\n<h2 id=\"çº é”™\"><a href=\"#çº é”™\" class=\"headerlink\" title=\"çº é”™\"></a>çº é”™</h2><p>æ•°æ®æ¥æ”¶è€…æ‹¿åˆ°æ±‰æ˜ç å å¯ä»¥é€šè¿‡æ±‰æ˜ç ä¸­ bitä¸º1çš„ä½æ ¹æ®å¯¹åº”çš„ç´¢å¼•è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œå¹¶è¿›è¡ŒXOR</p>\n<ul>\n<li>å¦‚æœ ç»“æœä¸º 0 åˆ™ä»£è¡¨ æ²¡é”™è¯¯æ— éœ€çº æ­£</li>\n<li>å¦‚æœ ç»“æœé0 åˆ™å¾—åˆ°çš„ç»“æœä¸º é”™è¯¯çš„ä½çš„ç´¢å¼•å·</li>\n</ul>\n<p>è¿˜æ˜¯ä¹‹å‰çš„ä¾‹å­ åŸæ•°æ®<code>10101111</code> å¾—å‡ºçš„æ±‰æ˜ç  <code>101001001111</code></p>\n<p>éªŒè¯<code>101001001111</code></p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">   |</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">1  | 0 0 0 1</span><br><span class=\"line\">3  | 0 0 1 1</span><br><span class=\"line\">6  | 0 1 1 0</span><br><span class=\"line\">9  | 1 0 0 1</span><br><span class=\"line\">10 | 1 0 1 0</span><br><span class=\"line\">11 | 1 0 1 1</span><br><span class=\"line\">12 | 1 1 0 0</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">XOR| 0 0 0 0</span><br></pre></td></tr></table></figure>\n\n<p>ç»“æœä¸º<code>0000</code>è¡¨ç¤ºè¯¥æ±‰æ˜ç æ­£ç¡®</p>\n<p>ä¿®æ”¹æ±‰æ˜ç ä¸­çš„ä¸€ä½æ”¹ä¸º<code>101001001110</code> å¦‚ä½•å¾—åˆ°ä¿®æ”¹äº†å“ªä¸€ä½å¹¶ä¿®æ­£?</p>\n<ol>\n<li>å–å‡ºæ±‰æ˜ç ä¸­çš„ä¸º1çš„ä½å¹¶æ ¹æ®æ‰€åœ¨çš„ç´¢å¼•è½¬ä¸ºäºŒè¿›åˆ¶</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n<th>6</th>\n<th>7</th>\n<th>8</th>\n<th>9</th>\n<th>10</th>\n<th>11</th>\n<th>12</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">   |</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">1  | 0 0 0 1</span><br><span class=\"line\">3  | 0 0 1 1</span><br><span class=\"line\">6  | 0 1 1 0</span><br><span class=\"line\">9  | 1 0 0 1</span><br><span class=\"line\">10 | 1 0 1 0</span><br><span class=\"line\">11 | 1 0 1 1</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">XOR| 1 1 0 0</span><br></pre></td></tr></table></figure>\n\n<p>å¾—åˆ°äº† <code>0b1100</code> å³ åè¿›åˆ¶çš„<code>12</code> è¡¨ç¤ºç¬¬12ä½é”™è¯¯ å³<code>101001001110</code>æœ‰é”™è¯¯ ç¬¬12ä½ 0åº”æ”¹ä¸º1<br><code>101001001111</code></p>\n<h3 id=\"å¤šä¸ªbité”™è¯¯\"><a href=\"#å¤šä¸ªbité”™è¯¯\" class=\"headerlink\" title=\"å¤šä¸ªbité”™è¯¯\"></a>å¤šä¸ªbité”™è¯¯</h3><p>æ±‰æ˜ç åªèƒ½æ£€æµ‹å’Œçº æ­£å•ä¸ªbitçš„é”™è¯¯</p>\n<p>ä¾‹å¦‚ åŸæ•°æ®<code>10101111</code> å¾—å‡ºçš„æ±‰æ˜ç  <code>101001001111</code>ï¼Œ<br>æ­¤æ—¶ æŠŠæ±‰æ˜ç  ç¬¬12ä½æ”¹ä¸º0 ç¬¬11ä½æ”¹ä¸º0 ä¸º<code>101001001100</code></p>\n<figure class=\"highlight txt\"><table><tr><td class=\"code\"><pre><span class=\"line\">   |</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">1  | 0 0 0 1</span><br><span class=\"line\">3  | 0 0 1 1</span><br><span class=\"line\">6  | 0 1 1 0</span><br><span class=\"line\">9  | 1 0 0 1</span><br><span class=\"line\">10 | 1 0 1 0</span><br><span class=\"line\">---|----------</span><br><span class=\"line\">XOR| 0 1 1 1</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹ä¸¤ä½æ¯”ç‰¹ä½å¯¼è‡´æ ¡éªŒå†²çªï¼Œç»“æœ<code>111</code>å³7ï¼Œè€Œç¬¬7ä½å¹¶æ²¡æœ‰è¢«ä¿®æ”¹è¿‡</p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly95YW9qb3JkYW4ubWVkaXVtLmNvbS8lRTglQTglODglRTYlQTYlODItaGFtbWluZy1jb2RlLSVFNiVCQyVBMiVFNiU5OCU4RSVFNyVBMiVCQy03ODEwMmQ2ODBjNzg=\">https://yaojordan.medium.com/%E8%A8%88%E6%A6%82-hamming-code-%E6%BC%A2%E6%98%8E%E7%A2%BC-78102d680c78<i class=\"fa fa-external-link-alt\"></i></span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JUIxJTg5JUU2JTk4JThFJUU3JUEwJTgx\">https://zh.wikipedia.org/wiki/%E6%B1%89%E6%98%8E%E7%A0%81<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ul>\n","categories":["æŠ€æœ¯"],"tags":["ç§‘æ™®","æ•°æ®é”™è¯¯æ£€æµ‹/çº é”™","ç¼–ç "]},{"title":"åˆ†ç±»","url":"/categories/index.html","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\">"},{"title":"Page Not Found","url":"//404.html","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><div style=\"display:flex; flex-direction: column; justify-content: center; align-items: center; min-height: 60vh\">\n  <img src=\"/images/404.svg\" style=\"max-width: 300px\">\n</div>\n"},{"title":"æ ‡ç­¾","url":"/tags/index.html","content":"<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\">"}]